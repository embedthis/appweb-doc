<!DOCTYPE html>
<html lang="en">
<head>
    <title>Logging</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="description" content="Appweb Documentation">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="https://embedthis.com/appweb/doc/users/logFiles.html" rel="canonical">
    <link href="../images/favicon.ico" rel="shortcut icon">
    <link href="../lib/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css">
    <link href="../css/all.min.css" rel="stylesheet" type="text/css">
    <link href="../css/api.min.css" rel="stylesheet" type="text/css">
    

</head>
<body class="show-sidebar">
    <div class="sidebar">
        <div class="ui large left vertical inverted labeled menu">
            <div class="item">
                <a href="../" class="logo">Appweb Docs</a>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../">Home</a>
                    <a class="item" href="../users/features.html">Appweb Features</a>
                    <a class="item" href="https://embedthis.com/appweb/download.html">Download</a>
                    <a class="item" href="../licensing/">Licensing</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../start/">Getting Started</a>
                    <a class="item" href="../start/quick.html">Quick Start</a>
                    <a class="item" href="../start/installing.html">Installing Appweb</a>
                    <a class="item" href="../start/starting.html">Starting and Stopping</a>
                    <a class="item" href="../start/service.html">Running as a Service</a>
                    <a class="item" href="../start/releaseNotes.html">Release Notes</a>
                    <a class="item" href="../start/source.html">Building from Source</a>
                    <a class="item" href="../start/cgi.html">Building with CGI</a>
                    <a class="item" href="../start/fast.html">Building with FastCGI</a>
                    <a class="item" href="../start/proxy.html">Building with Proxy</a>
                    <a class="item" href="../start/openssl.html">Building with OpenSSL</a>
                    <a class="item" href="../start/php.html">Building with PHP</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../users/">User's Guide</a>
                    <a class="item" href="../users/configuration.html">Configuring Appweb</a>
                    <a class="item" href="../users/directives.html">Configuration Directives</a>
                    <a class="item" href="../users/frameworks.html">Web Frameworks</a>
                    <a class="item" href="../users/modules.html">Using Loadable Modules</a>
                    <a class="item" href="../users/ports.html">Ports and Binding</a>
                    <a class="item" href="../users/routing.html">Routing Requests</a>
                    <a class="item" href="../users/stages.html">Request Pipeline</a>
                    <a class="item" href="../users/lang.html">Multi-Language Content</a>
                    <a class="item" href="../users/authentication.html">User Authentication</a>
                    <a class="item" href="../users/logFiles.html">Logging</a>
                    <a class="item" href="../users/caching.html">Caching</a>
                    <a class="item" href="../users/vhosts.html">Virtual Hosts</a>
                    <a class="item" href="../users/ssl.html">Secure Sockets (SSL)</a>
                    <a class="item" href="../users/client.html">Http Client</a>
                    <a class="item" href="../users/security.html">Security Considerations</a>
                    <a class="item" href="../users/monitor.html">Monitoring and Defending</a>
                    <a class="item" href="../users/uploading.html">File Upload</a>
                    <a class="item" href="../users/webSockets.html">WebSockets</a>
                    <a class="item" href="../users/man.html">Man Pages</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../developers/">Developer's Guide</a>
                    <a class="item" href="../developers/embedding.html">Embedding Appweb</a>
                    <a class="item" href="../developers/modules.html">Creating Appweb Modules</a>
                    <a class="item" href="../developers/handlers.html">Creating Appweb Handlers</a>
                    <a class="item" href="../developers/action.html">Using the Action Handler</a>
                    <a class="item" href="../developers/stages.html">Creating Pipeline Stages</a>
                    <a class="item" href="../developers/rom.html">Serving Pages from ROM</a>
                    <a class="item" href="../developers/migrating.html">Migrating from Earlier Releases</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../ref/">Reference Guide</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/CHANGELOG.md" target="_blank">Release Change Log</a>
                    <a class="item" href="../ref/compatibility.html">Compatibility</a>
                    <a class="item" href="../ref/native.html">Native APIs</a>
                    <a class="item" href="../ref/architecture.html">Appweb Architecture</a>
                    <a class="item" href="../ref/memory.html">Appweb Memory Allocation</a>
                    <a class="item" href="../ref/multithread.html">Multithreaded Programming</a>
                    <a class="item" href="../standards/http.html">HTTP References</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../users/samples.html">Samples</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/chroot-server">chroot-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/cpp-handler">cpp-handler</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/cpp-module">cpp-module</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/deploy-server">deploy-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/esp-hosted">esp-hosted</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/esp-upload">esp-upload</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-basic">login-basic</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-database">login-database</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-form">login-form</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/max-server">max-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/min-server">min-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/secure-server">secure-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-action">simple-action</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-client">simple-client</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-handler">simple-handler</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-module">simple-module</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-server">simple-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/spy-filter">spy-filter</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/ssl-server">ssl-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/tiny-server">tiny-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/typical-client">typical-client</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/typical-server">typical-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-chat">websockets-chat</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-echo">websockets-echo</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-output">websockets-output</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../developers/project.html">Project Resources</a>
                    <a class="item" href="https://embedthis.com/blog/categories/Appweb">Appweb News</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Web Site</a>
                    <a class="item" href="https://github.com/embedthis/appweb">Appweb Repository</a>
                    <a class="item" href="https://github.com/embedthis/appweb/issues/2">Appweb Security Alerts</a>
                    <a class="item" href="https://github.com/embedthis/appweb/issues">Project Issue Database</a>
                    <a class="item" href="https://embedthis.com/developers/contributors.html">Contributors Agreement</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <span class="header item">Links</span>
                    <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                    <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                    <a class="item" href="http://twitter.com/embedthat">Twitter</a>
                </div>
            </div>
        </div>
    </div>




    <div class="ui inverted masthead">
        <div class="ui fixed inverted menu">
            <div class="ui sidebar-launch button">
                <i class="icon list layout"></i>
            </div>
            <div class="right menu">
                <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Site</a>
                    <span class="desktop-only">
                        <a class="item" href="https://embedthis.com/blog/categories/Appweb">Appweb News</a>
                        <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                        <a class="item" href="https://embedthis.com/blog/">Blog</a>
                        <a class="item" href="https://twitter.com/embedthat">Twitter</a>
                    </span>

            </div>
        </div>
        
        <div class="ui breadcrumb">
            <a class="section" href="../">Home</a>
            
            <div class="divider">/</div>
            <a class="section" href="../users/">
                User's Guide
            </a>
            
            
            <div class="divider">/</div>
            <a class="active section" href="logFiles.html">Logging</a>
            
        </div>
        
        <iframe class="version desktop-only" src="../version.html"></iframe>

    </div>
    <div class="content">

            <h1>Log Files</h1>
            <p>Appweb provides detailed logging regarding client accesses and the operation of Appweb. This is done via two
            log files:</p>
            <ul>
                <li>Error Log</li>
                <li>Access Log</li>
            </ul>
            <p>This document describes the two logs and the information available in each log.</p>
            
            <a id="errorLog"></a>
            <h2>Error Log</h2>
            <p>The Error Log records the essential Appweb configuration, details of denied requests, and other trace
            and error information. The location of the Error Log file is specified by the 
            <a href="dir/log.html#errorLog">ErrorLog</a> 
            configuration file directive. The ErrorLog directive can also specify the maximum log file size, 
            the number of backup log files to keep and whether to truncate the log file when Appweb is
            restarted. </p>
            <p>The ErrorLog directive can also specify the verbosity level with which to write to the log. 
            The log level is a digit ranging from 0 (the least verbose) to 9  (the most verbose). For example, if you
            set the log level to 2, messages at levels 0 and 1 will be output to the log. Level 0 will only record
            errors. Level 2 is the default and will record denied accesses. Levels 3-9 will record various internal
            Appweb activities. You should be careful with levels above 4 as the error log can grow very large with high
            log levels.</p>
            <pre class="ui code segment">ErrorLog error.log level=2 backup=5 stamp=1hr</pre>
            <h3>Logging Requests</h3>
            <p>The error log can also record detailed request information that is useful for debugging. The
            <a href="dir/log.html#log">Log</a> directive controls which parts of a request will be traced to the error
            log.</p>
            <pre class="ui code segment">Log rx conn=5 first=2 headers=3 body=5 size=10K exclude="jpg,gif,png"</pre>
            <p>This directive will cause requests to be traced to the error log. New connections will be emitted
            at level 5, the first line of the request at level 2, request headers at level 3 and the request body
            data at level 5. Trace will be a maximum of 10K per request and graphic requests will be excluded.</p>
<pre class="ui code segment">Log tx first=3 headers=3 body=5 time=6 size=10K exclude="jpg,gif,png"</pre>
            <p>This directive will cause responses to be traced to the error log.</p>
            <h3>Sample Output</h3>
            <p>Here is a sample error log. Some lines have been manually wrapped to fit on the page.</p>
            <pre class="ui code segment">
appweb: 2: Configuration for Embedthis Appweb
appweb: 2: ---------------------------------------------
appweb: 2: Version:            4.0.0-B2
appweb: 2: BuildType:          Debug
appweb: 2: CPU:                x64
appweb: 2: OS:                 macosx
appweb: 2: Host:               sunny.local
appweb: 2: Directory:          /Users/guest/git/appweb/src/server
appweb: 2: Configure:          me -q -configure . -debug
appweb: 2: ---------------------------------------------
appweb: 2: Config File /Users/guest/git/appweb/src/server/appweb.conf
appweb: 2: Set server root to: "/Users/guest/git/appweb/src/server"
appweb: 2: Server Root "."
appweb: 2: Loading native module cgiHandler
appweb: 2: Loading native module espHandler
appweb: 2: Loading native module sslModule
appweb: 2: Started HTTP  service on "*:80"
appweb: 1: HTTP services Started at Wed May 23 17:39:10 2014 PDT with max 10
           threads
</pre>
            <p>Each line in the error log is prefixed with source information. This follows the format:</p>
            <pre class="ui code segment">
program:logLevel
</pre>
            <p>The log level is the verbosity level assigned to the trace information by Appweb.</p>
            <p>The error log always contains a header detailing the high level Appweb configuration. It specifies what
            version of Appweb is being run, what handlers and modules are loaded, and what IP addresses are being
            listened to.</p>
            <p>You may also specify the error log file and log level via the Appweb command line "--log" option. If you
            invoke Appweb with a "--log logSpec" command line option, it will override the ErrorLog and LogLevel
            directives.</p>
            
            <a id="accessLog"></a>
            <h2>Access Log</h2>
            <p>The Access Log records the details of each successful request served by Appweb. The access log file
            format is configurable and can log requests in a variety of formats. By default, it will log in the
            Combined Log File Format that is used by the Apache web server. The location of the access log file and its
            format is specified via the <a href="dir/log.html#customLog">CustomLog</a> configuration file
            directive.</p>
            <p>The access log file is parsable by many open source and commercial log file analyzers. Here is a sample
            access log. Some lines have been manually wrapped to fit on the page.</p>
            <pre class="ui code segment">
localhost - - [Fri Dec 19 16:08:13 2003] "GET / 
        HTTP/1.1" 302 464
localhost - - [Fri Dec 19 16:08:22 2003] "GET /doc/index.html 
        HTTP/1.1" 200 8006
localhost - - [Fri Dec 19 16:08:22 2003] "GET /doc/css/doc.css 
        HTTP/1.1" 200 10588
localhost - - [Fri Dec 19 16:08:22 2003] "GET /doc/images/backLeft.png 
        HTTP/1.1" 200 16492
localhost - - [Fri Dec 19 16:08:22 2003] "GET /doc/images/backMiddle.png 
        HTTP/1.1" 200 464
localhost - - [Fri Dec 19 16:08:22 2003] "GET /doc/images/backRight.png 
        HTTP/1.1" 200 987
localhost - - [Fri Dec 19 16:08:22 2003] "GET /doc/images/graybar.gif 
        HTTP/1.1" 200 290
localhost - - [Fri Dec 19 16:08:24 2003] "GET /doc/index.html 
        HTTP/1.1" 304 167
localhost - - [Fri Dec 19 16:08:24 2003] "GET /doc/css/doc.css 
        HTTP/1.1" 304 167
localhost - - [Fri Dec 19 16:08:24 2003] "GET /doc/images/backLeft.png 
        HTTP/1.1" 304 167
localhost - - [Fri Dec 19 16:08:24 2003] "GET /doc/images/backMiddle.png 
        HTTP/1.1" 304 165
localhost - - [Fri Dec 19 16:08:24 2003] "GET /doc/images/backRight.png 
        HTTP/1.1" 304 166
</pre>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software. All rights reserved.</p>
    </div>

    <script src="../lib/jquery/jquery.min.js"></script>
    <script src="../lib/jquery/jquery.slim.min.js"></script>
    <script src="../lib/semantic-ui/semantic.min.js"></script>
    <script src="../scripts/sidebar.min.js"></script>
     

    




