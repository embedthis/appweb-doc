<!DOCTYPE html>
<html lang="en">
<head>
    <title>Virtual Hosts</title>
    <!-- Copyright Embedthis Software. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Appweb Documentation" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="https://www.embedthis.com/appweb/doc/users/dir/vhost.html" rel="canonical" />
    <link href="../../images/favicon.ico" rel="shortcut icon" />
    <link href="../../css/all.min.css" rel="stylesheet" type="text/css" />
<link href="../../css/api.min.css" rel="stylesheet" type="text/css" />
<link href="../../lib/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css" />


</head>
<body class="show-sidebar">
    <div class="sidebar">
        <div class="ui large left vertical inverted labeled menu">
            <div class="item">
                <a href="../../" class="logo">Appweb Docs</a>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../">Home</a>
                    <a class="item" href="../../users/features.html">Appweb Features</a>
                    <a class="item" href="https://www.embedthis.com/appweb/download.html">Download</a>
                    <a class="item" href="../../licensing/">Licensing</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../start/">Getting Started</a>
                    <a class="item" href="../../start/quick.html">Quick Start</a>
                    <a class="item" href="../../start/installing.html">Installing Appweb</a>
                    <a class="item" href="../../start/starting.html">Starting and Stopping</a>
                    <a class="item" href="../../start/service.html">Running as a Service</a>
                    <a class="item" href="../../start/releaseNotes.html">Release Notes</a>
                    <a class="item" href="../../start/source.html">Building from Source</a>
                    <a class="item" href="../../start/cgi.html">Building with CGI</a>
                    <a class="item" href="../../start/fast.html">Building with FastCGI</a>
                    <a class="item" href="../../start/proxy.html">Building with Proxy</a>
                    <a class="item" href="../../start/openssl.html">Building with OpenSSL</a>
                    <a class="item" href="../../start/php.html">Building with PHP</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../users/">User's Guide</a>
                    <a class="item" href="../../users/configuration.html">Configuring Appweb</a>
                    <a class="item" href="../../users/directives.html">Configuration Directives</a>
                    <a class="item" href="../../users/frameworks.html">Web Frameworks</a>
                    <a class="item" href="../../users/modules.html">Using Loadable Modules</a>
                    <a class="item" href="../../users/ports.html">Ports and Binding</a>
                    <a class="item" href="../../users/routing.html">Routing Requests</a>
                    <a class="item" href="../../users/stages.html">Request Pipeline</a>
                    <a class="item" href="../../users/lang.html">Multi-Language Content</a>
                    <a class="item" href="../../users/authentication.html">User Authentication</a>
                    <a class="item" href="../../users/logFiles.html">Logging</a>
                    <a class="item" href="../../users/caching.html">Caching</a>
                    <a class="item" href="../../users/vhosts.html">Virtual Hosts</a>
                    <a class="item" href="../../users/ssl.html">Secure Sockets (SSL)</a>
                    <a class="item" href="../../users/client.html">Http Client</a>
                    <a class="item" href="../../users/security.html">Security Considerations</a>
                    <a class="item" href="../../users/monitor.html">Monitoring and Defending</a>
                    <a class="item" href="../../users/uploading.html">File Upload</a>
                    <a class="item" href="../../users/webSockets.html">WebSockets</a>
                    <a class="item" href="../../users/man.html">Man Pages</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../developers/">Developer's Guide</a>
                    <a class="item" href="../../developers/embedding.html">Embedding Appweb</a>
                    <a class="item" href="../../developers/modules.html">Creating Appweb Modules</a>
                    <a class="item" href="../../developers/handlers.html">Creating Appweb Handlers</a>
                    <a class="item" href="../../developers/action.html">Using the Action Handler</a>
                    <a class="item" href="../../developers/stages.html">Creating Pipeline Stages</a>
                    <a class="item" href="../../developers/rom.html">Serving Pages from ROM</a>
                    <a class="item" href="../../developers/migrating.html">Migrating from Earlier Releases</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../ref/">Reference Guide</a>
                    <a class="item" href="../../ref/compatibility.html">Compatibility</a>
                    <a class="item" href="../../ref/native.html">Native APIs</a>
                    <a class="item" href="../../ref/architecture.html">Appweb Architecture</a>
                    <a class="item" href="../../ref/memory.html">Appweb Memory Allocation</a>
                    <a class="item" href="../../ref/multithread.html">Multithreaded Programming</a>
                    <a class="item" href="../../standards/http.html">HTTP References</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../developers/project.html">Project Resources</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/blob/main/CHANGELOG.md"
                        target="_blank">Release Change Log</a>
                    <a class="item" href="https://www.embedthis.com/blog/categories/Appweb">Appweb News</a>
                    <a class="item" href="https://www.embedthis.com/appweb/">Appweb Web Site</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc">Appweb Repository</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/issues/2">Appweb Security Alerts</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/issues">Project Issue Database</a>
                </div>
            </div>

            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../users/samples.html">Samples</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/chroot-server">chroot-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/cpp-handler">cpp-handler</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/cpp-module">cpp-module</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/deploy-server">deploy-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/esp-hosted">esp-hosted</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/esp-upload">esp-upload</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-basic">login-basic</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-database">login-database</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-form">login-form</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/max-server">max-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/min-server">min-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/secure-server">secure-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-action">simple-action</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-client">simple-client</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-handler">simple-handler</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-module">simple-module</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-server">simple-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/spy-filter">spy-filter</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/ssl-server">ssl-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/tiny-server">tiny-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/typical-client">typical-client</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/typical-server">typical-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-chat">websockets-chat</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-echo">websockets-echo</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-output">websockets-output</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <span class="header item">Links</span>
                    <a class="item" href="https://www.embedthis.com/">Embedthis Web Site</a>
                    <a class="item" href="https://www.embedthis.com/blog/">Embedthis Blog</a>
                    <a class="item" href="http://twitter.com/embedthat">Twitter</a>
                </div>
            </div>
        </div>
    </div>




    <div class="ui inverted masthead">
        <div class="ui fixed inverted menu">
            <div class="ui sidebar-launch button">
                <i class="icon list layout"></i>
            </div>
            <div class="right menu">
                <a class="item" href="https://www.embedthis.com/">Embedthis</a>
                    <a class="item" href="https://www.embedthis.com/appweb/">Appweb Site</a>
                    <span class="desktop-only">
                        <a class="item" href="https://www.embedthis.com/blog/categories/Appweb">Appweb News</a>
                        <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                        <a class="item" href="https://www.embedthis.com/blog/">Blog</a>
                        <a class="item" href="https://twitter.com/embedthat">Twitter</a>
                    </span>

            </div>
        </div>
        
        <div class="ui breadcrumb">
            <a class="section" href="../../">Home</a>
            
            <div class="divider">/</div>
            <a class="section" href="../../users/">
                User's Guide
            </a>
            
            <div class="divider">/</div>
            <a class="section" href="../configuration.html">
                Configuration
            </a>
            
            
            <div class="divider">/</div>
            <a class="active section" href="vhost.html">Virtual Hosts</a>
            
        </div>
        
        <iframe class="version desktop-only" src="../../version.html"></iframe>

    </div>
    <div class="content">

            <a id="namedVirtualHost"></a>
            <h1>Virtual Host Directives</h1>
            <h2>NameVirtualHost</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Nominates an IP address as using name based virtual hosting</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>NameVirtualHost IPaddr[:port]</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>NameVirtualHost 206.148.97.56<br />
                        &lt;VirtualHost 206.148.97.56&gt;<br />
                        ...<br />
                        &lt;/VirtualHost&gt;</td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The NameVirtualHost directive specifies that an IP address will be used for name based
                            virtual hosting. Appweb provides two virtual hosting mechanisms:</p>
                            <ul>
                                <li>IP based</li>
                                <li>Name based</li>
                            </ul>
                            <p>IP based virtual hosting uses a dedicated IP address for each virtual host on a server.
                            Name based hosting uses one IP address for a set of virtual hosts that are distinguished
                            from each other by a "Host" HTTP header.</p>
                            <p>The IPAddress argument may be "*" in which case addresses on which Appweb is listening
                            will use name based virtual hosting.</p>
                            <h3>Example of Name Based Virtual Hosting</h3>
                            <p>This example shows two virtual hosts with independent document webs. Both share the same
                            IP address and use the "Host" HTTP header to select the appropriate virtual host.</p>
                            <pre>
NameVirtualHost 206.148.97.56
&lt;VirtualHost 206.148.97.56&gt;
    ServerName www.acme.com
    Documents /var/www/acme
    ...
&lt;/VirtualHost&gt;
&lt;VirtualHost 206.148.97.56&gt;
    ServerName www.coyote.com
    Documents /var/www/coyote
    ...
&lt;/VirtualHost&gt;
</pre>
                            <h3>Example of IP Based Virtual Hosting</h3>
                            <p>This example shows two virtual hosts with independent document webs. Each has a
                            dedicated IP address.</p>
                            <pre>
&lt;VirtualHost 206.148.97.56&gt;
    ServerName www.acme.com
    Documents /var/www/acme
    ...
&lt;/VirtualHost&gt;
&lt;VirtualHost 206.148.97.57&gt;
    ServerName www.coyote.com
    Documents /var/www/coyote
    ...
&lt;/VirtualHost&gt;
</pre>
                            <p>You can use both IP based and name based hosting on one server.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="security">Security</td>
                        <td>
                            <p>You should only ever use an IP address for the argument to the directive. Using a host
                            name will cause a DNS lookup which makes the availability of your web server dependent on
                            the DNS server.</p>
                        </td>
                    </tr>
                </tbody>
            </table>

            <a id="virtualHost"></a>
            <h2>VirtualHost</h2>
            <table class="directive" title="directive">
                <tbody>
                    <tr>
                        <td class="pivot">Description</td>
                        <td>Create a new directive block that applies to a specific IP address. The VirtualHost block
                            inherits the existing configuration at the point of the opening VirtualHost directive.</td>
                    </tr>
                    <tr>
                        <td class="pivot">Synopsis</td>
                        <td>&lt;VirtualHost [IPaddress][:port] [, [IPaddress][:port]]...&gt;<br />
                        ...<br />
                        &lt;/VirtualHost&gt;</td>
                    </tr>
                    <tr>
                        <td class="pivot">Context</td>
                        <td>Default Server</td>
                    </tr>
                    <tr>
                        <td class="pivot">Example</td>
                        <td>
                            <pre>
&lt;VirtualHost *:80 *:8080&gt;
    ServerName www.acme.com
    Documents /var/www/acme
    ....
&lt;/VirtualHost&gt;
</pre>
                        </td>
                    </tr>
                    <tr>
                        <td class="pivot">Notes</td>
                        <td>
                            <p>The VirutalHost directive defines a block of directives that will apply to the nominated
                            IP addresses. The IP addresses specify the set of IP addresses for this VirtualHost.
                            Note: this does not cause Appweb to listen on these addresses. You will still need an
                            appropriate Listen directive for each IP address. The IP address is of the form
                            IP:PORT where the IP or PORT portion may be omitted. The IP address can be set to "*"
                            in which case the VirtualHost will listen on all interfaces.</p>
                            <p>If the IP address is also specified in a NameVirtualHost directive, the virtual host will
                            use name based hosting. This requires the browser (as nearly all modern browsers do), to
                            include the domain portion of the URL in the HTTP host header. Appweb examines this header
                            and routes the request to the Virtual Host that has a corresponding ServerName</p>
                            <p>NOTE: Multiple IP addresses may be specified per VirtualHost directive.</p>

                            <p>The ServerName may begin with a "*" which means match any hosts that contains the following
                            host name. For example "*.example.com" will then match blog.example.com and www.example.com.
                            If the ServerName ends with "*" it will match any domain that contains the name. You can also
                            set the ServerName to a regular expression such that it will match multiple domains. Regular
                            expressions begin and end with a "/".</p>
                        </td>
                    </tr>
                </tbody>
            </table>

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software. All rights reserved.</p>
    </div>

    <script src="../../scripts/sidebar.min.js"></script>
<script src="../../scripts/reload.min.js"></script>
 

    

    <script async>
    window.onload = function () {
        navigator.sendBeacon('https://api.admin.embedthis.com/api/metric/visit?site=appweb-doc', null)
    }
</script>

</body>
</html>
