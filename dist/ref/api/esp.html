<!DOCTYPE html>
<html lang="en">
<head>
    <title>Esp API</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="description" content="Appweb Documentation">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="https://embedthis.com/appweb/doc/ref/api/esp.html" rel="canonical">
    <link href="../../images/favicon.ico" rel="shortcut icon">
    <link href="../../lib/semantic-ui/semantic.min.css" rel="stylesheet" type="text/css">
    <link href="../../css/all.min.css" rel="stylesheet" type="text/css">
    <link href="../../css/api.min.css" rel="stylesheet" type="text/css">
    

</head>
<body class="show-sidebar">
    <div class="sidebar">
        <div class="ui large left vertical inverted labeled menu">
            <div class="item">
                <a href="../../" class="logo">Appweb Docs</a>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../">Home</a>
                    <a class="item" href="../../users/features.html">Appweb Features</a>
                    <a class="item" href="https://embedthis.com/appweb/download.html">Download</a>
                    <a class="item" href="../../licensing/">Licensing</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../start/">Getting Started</a>
                    <a class="item" href="../../start/quick.html">Quick Start</a>
                    <a class="item" href="../../start/installing.html">Installing Appweb</a>
                    <a class="item" href="../../start/starting.html">Starting and Stopping</a>
                    <a class="item" href="../../start/service.html">Running as a Service</a>
                    <a class="item" href="../../start/releaseNotes.html">Release Notes</a>
                    <a class="item" href="../../start/source.html">Building from Source</a>
                    <a class="item" href="../../start/cgi.html">Building with CGI</a>
                    <a class="item" href="../../start/fast.html">Building with FastCGI</a>
                    <a class="item" href="../../start/proxy.html">Building with Proxy</a>
                    <a class="item" href="../../start/openssl.html">Building with OpenSSL</a>
                    <a class="item" href="../../start/php.html">Building with PHP</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../users/">User's Guide</a>
                    <a class="item" href="../../users/configuration.html">Configuring Appweb</a>
                    <a class="item" href="../../users/directives.html">Configuration Directives</a>
                    <a class="item" href="../../users/frameworks.html">Web Frameworks</a>
                    <a class="item" href="../../users/modules.html">Using Loadable Modules</a>
                    <a class="item" href="../../users/ports.html">Ports and Binding</a>
                    <a class="item" href="../../users/routing.html">Routing Requests</a>
                    <a class="item" href="../../users/stages.html">Request Pipeline</a>
                    <a class="item" href="../../users/lang.html">Multi-Language Content</a>
                    <a class="item" href="../../users/authentication.html">User Authentication</a>
                    <a class="item" href="../../users/logFiles.html">Logging</a>
                    <a class="item" href="../../users/caching.html">Caching</a>
                    <a class="item" href="../../users/vhosts.html">Virtual Hosts</a>
                    <a class="item" href="../../users/ssl.html">Secure Sockets (SSL)</a>
                    <a class="item" href="../../users/client.html">Http Client</a>
                    <a class="item" href="../../users/security.html">Security Considerations</a>
                    <a class="item" href="../../users/monitor.html">Monitoring and Defending</a>
                    <a class="item" href="../../users/uploading.html">File Upload</a>
                    <a class="item" href="../../users/webSockets.html">WebSockets</a>
                    <a class="item" href="../../users/man.html">Man Pages</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../developers/">Developer's Guide</a>
                    <a class="item" href="../../developers/embedding.html">Embedding Appweb</a>
                    <a class="item" href="../../developers/modules.html">Creating Appweb Modules</a>
                    <a class="item" href="../../developers/handlers.html">Creating Appweb Handlers</a>
                    <a class="item" href="../../developers/action.html">Using the Action Handler</a>
                    <a class="item" href="../../developers/stages.html">Creating Pipeline Stages</a>
                    <a class="item" href="../../developers/rom.html">Serving Pages from ROM</a>
                    <a class="item" href="../../developers/migrating.html">Migrating from Earlier Releases</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../ref/">Reference Guide</a>
                    <a class="item" href="../../ref/compatibility.html">Compatibility</a>
                    <a class="item" href="../../ref/native.html">Native APIs</a>
                    <a class="item" href="../../ref/architecture.html">Appweb Architecture</a>
                    <a class="item" href="../../ref/memory.html">Appweb Memory Allocation</a>
                    <a class="item" href="../../ref/multithread.html">Multithreaded Programming</a>
                    <a class="item" href="../../standards/http.html">HTTP References</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../developers/project.html">Project Resources</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/blob/main/CHANGELOG.md" target="_blank">Release Change Log</a>
                    <a class="item" href="https://embedthis.com/blog/categories/Appweb">Appweb News</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Web Site</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc">Appweb Repository</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/issues/2">Appweb Security Alerts</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/issues">Project Issue Database</a>
                </div>
            </div>

            <div class="item">
                <div class="menu">
                    <a class="header item" href="../../users/samples.html">Samples</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/chroot-server">chroot-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/cpp-handler">cpp-handler</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/cpp-module">cpp-module</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/deploy-server">deploy-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/esp-hosted">esp-hosted</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/esp-upload">esp-upload</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-basic">login-basic</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-database">login-database</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/login-form">login-form</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/max-server">max-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/min-server">min-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/secure-server">secure-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-action">simple-action</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-client">simple-client</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-handler">simple-handler</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-module">simple-module</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/simple-server">simple-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/spy-filter">spy-filter</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/ssl-server">ssl-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/tiny-server">tiny-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/typical-client">typical-client</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/typical-server">typical-server</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-chat">websockets-chat</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-echo">websockets-echo</a>
                    <a class="item" href="https://github.com/embedthis/appweb-doc/tree/master/samples/websockets-output">websockets-output</a>
                </div>
            </div>
            <div class="item">
                <div class="menu">
                    <span class="header item">Links</span>
                    <a class="item" href="https://embedthis.com/">Embedthis Web Site</a>
                    <a class="item" href="https://embedthis.com/blog/">Embedthis Blog</a>
                    <a class="item" href="http://twitter.com/embedthat">Twitter</a>
                </div>
            </div>
        </div>
    </div>




    <div class="ui inverted masthead">
        <div class="ui fixed inverted menu">
            <div class="ui sidebar-launch button">
                <i class="icon list layout"></i>
            </div>
            <div class="right menu">
                <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Site</a>
                    <span class="desktop-only">
                        <a class="item" href="https://embedthis.com/blog/categories/Appweb">Appweb News</a>
                        <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                        <a class="item" href="https://embedthis.com/blog/">Blog</a>
                        <a class="item" href="https://twitter.com/embedthat">Twitter</a>
                    </span>

            </div>
        </div>
        
        <div class="ui breadcrumb">
            <a class="section" href="../../">Home</a>
            
            <div class="divider">/</div>
            <a class="section" href="../../ref/">
                Reference
            </a>
            
            <div class="divider">/</div>
            <a class="section" href="../native.html">
                Native APIs
            </a>
            
            
            <div class="divider">/</div>
            <a class="active section" href="esp.html">Esp API</a>
            
        </div>
        
        <iframe class="version desktop-only" src="../../version.html"></iframe>

    </div>
    <div class="content">

<h1>ESP Native API</h1>
<a name="Extensions"></a><h1>Extensions</h1>
  <table class="apiIndex" title="Extensions">
<tr class="apiDef">
<td class="apiName"><a href="#group___esp_abbrev" class="nameRef">EspAbbrev</a></td>
<td class="apiBrief">Abbreviated ESP API.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___esp_parse" class="nameRef">EspParse</a></td>
<td class="apiBrief">ESP page parser structure.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___esp_req" class="nameRef">EspReq</a></td>
<td class="apiBrief">ESP request structure.</td></tr>
<tr class="apiDef">
<td class="apiName"><a href="#group___esp_route" class="nameRef">EspRoute</a></td>
<td class="apiBrief">EspRoute extended route configuration.</td></tr>
</table>
<a name="Functions"></a><h1>Functions</h1>
  <table class="apiIndex" title="Functions">
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga3de25d5c0ff5232da8f3460794fcc37d" class="nameRef">absuri</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create an absolute URI with a scheme and host.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gadba1deb080e78b4517119a0294489b44" class="nameRef">addHeader</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a header to the transmission using a format string.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gade12fd081c2a017ad6068cc9e77f3977" class="nameRef">addParam</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a request parameter value if not already defined.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga06c4528395fd1b375d9ac771cf59a8b5" class="nameRef">canUser</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *abilities, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> warn)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a user has the required abilities.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1gaecb1d262045b8a9b793c692c6f6df854" class="nameRef">createRec</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *data)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a record and initialize field values.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1gadfb986955cb858805a1b6c1c526ee726" class="nameRef">createRecByParams</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *table)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a record from the request parameters.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga5be0da11b7438947e9508f2b0e1a9a1f" class="nameRef">createRecFromParams</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *table),ME_DEPRECATED(&quot;Use,updateRecFields(table</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a record from the request parameters.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gafd8e418ad6839251b5f058f7bd2c1c3b" class="nameRef">createSession</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a session state object.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga03cbcd66ad537a10bcf4b979d211f5c1" class="nameRef">destroySession</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Destroy a session state object.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gaff2494fbe89907f66d1a00bfc3c0f53b" class="nameRef">dontAutoFinalize</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Don&apos;t auto-finalize this request.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga59e03741fc139bbfe159b19c0ec0ab3b" class="nameRef">dumpGrid</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message, <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Display the grid to the debug log.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga6185ee40ad6b60aab06ffe4b7f633ad9" class="nameRef">dumpParams</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Display request parameters to the debug log.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga92161376031e92987063467cb6f1dbd3" class="nameRef">dumpRec</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Display a record to the debug log.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1gaf0597c922fe4a863f84e40f93d3d5ee4" class="nameRef">espAction</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *targetKey, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *abilities, <a href="#esp_8h_1a3be68c9acb3ee13fce7b42a600b1ffdd" class="ref">EspProc</a> actionProc)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define an action.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga4f8a144e4388122909991a0402b92550" class="nameRef">espAddHeader</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a header to the transmission using a format string.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga98fdeb62e229b97f5fe8049298d5c7fc" class="nameRef">espAddHeaderString</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a header to the transmission.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1gaa6e0943224a139d93f465b7ff2060c36" class="nameRef">espAddHomeRoute</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a route for the home page.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga3824ffbe5db5e46d872aeb0adfdbaf65" class="nameRef">espAddParam</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a request parameter value if it is not already defined.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1gab12f7c6108ac1d0a972fc837e9b9dec8" class="nameRef">espAddRouteSet</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *set)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add a route set.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga3a999dbd5209ab0507ec697bb452eba9" class="nameRef">espAppendHeader</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Append a transmission header.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gadc294b278fde028e375f3a43e8da4ffc" class="nameRef">espAppendHeaderString</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Append a transmission header string.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga343d565150be797bbcfbf67a3ef98bb5" class="nameRef">espAutoFinalize</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Auto-finalize transmission of the http request.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_route_1ga0d812aed0ff96f0ffa281860270e8910" class="nameRef">espBindProc</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *pattern, void *actionProc)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define an action for a URI pattern.</td></tr>
<tr class="apiDef"><td class="apiType">char*</td><td><a href="#group___esp_route_1ga359fc00970449817245c5759a1ad8c4c" class="nameRef">espBuildScript</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *page, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *cacheName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *layout, <a href="#struct_esp_state" class="ref">EspState</a> *state, char **err)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Convert an ESP web page into C code.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_route_1ga01d07d3db11f99c0d1b93b068ec56c67" class="nameRef">espCache</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *uri, int lifesecs, int flags)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add caching for response content.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gadeac99cba2f4655c6ae0e8c108646e90" class="nameRef">espClearCurrentSession</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Clear the current authenticated session.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_route_1gaa6f62a5bb430f502b6067cac74d948e4" class="nameRef">espCompile</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#mpr.html#group___mpr_dispatcher" class="ref">MprDispatcher</a> *dispatcher, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *source, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *module, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *cacheName, int isView, char **errMsg)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Compile an ESP page, controller or view.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1ga8e9d301b4d8ea03e194be4339ec9d361" class="nameRef">espController</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="#esp_8h_1a3be68c9acb3ee13fce7b42a600b1ffdd" class="ref">EspProc</a> baseProc)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define a common controller function to invoke before invoking for all controller actions.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="#group___esp_route" class="ref">EspRoute*</a></td><td><a href="#esp_8h_1a0ac80522752809c14f74ccaf02e48de5" class="nameRef">espCreateRoute</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create an EspRoute object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga133ce6a404cb05682846cbe3f478b7da" class="nameRef">espCreateSession</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a session state object.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1ga6ce7e8f816dd7a994f77583c953065a2" class="nameRef">espDefineAction</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *targetKey, <a href="#esp_8h_1a3be68c9acb3ee13fce7b42a600b1ffdd" class="ref">EspProc</a> actionProc),ME_DEPRECATED(&quot;Use,espAction,instead&quot;)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define an action.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1ga619e3d85014d882f8330e47ee1f6ac24" class="nameRef">espDefineBase</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="#esp_8h_1adc749236ce9c01e8c3f43a4b779df700" class="ref">EspLegacyProc</a> baseProc),ME_DEPRECATED(&quot;Use,espDefineCommon,instead&quot;)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define a base controller function to invoke for all controller actions.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_route_1gab7ebccfe31eb1e07f3f40db700d18bd9" class="nameRef">espDefineView</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, void *viewProc)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define a view.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga49dfd97fc85a367ccf7d146454b52cbc" class="nameRef">espDestroySession</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Destroy a session state object.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#esp_8h_1a0fafa076a86bf29ec11d07515817da3c" class="nameRef">espEmail</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *to, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *from, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *subject, <a href="edi.html#mpr.html#group___mpr_time" class="ref">MprTime</a> date, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *mime, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message, <a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList</a> *files)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send mail using sendmail.</td></tr>
<tr class="apiDef"><td class="apiType">char*</td><td><a href="#group___esp_route_1gac85c52178c5b387706bb31b419f9f059" class="nameRef">espExpandCommand</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *command, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *source, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *module)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Expand a compile or link command template.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gafa8c60c6ae199dd31fa92c4dbbaa7c2d" class="nameRef">espFinalize</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Indicate the request is finalized.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga117d4806f7e97f74d2803065bb7f69f3" class="nameRef">espFlush</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Flush transmit data.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#http.html#group___http_auth" class="ref">HttpAuth*</a></td><td><a href="#group___esp_req_1ga48e9736ae0f7cecdb695a4db5f343647" class="nameRef">espGetAuth</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current route HttpAuth object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_route_1ga97b13560e8c066d70810b2df3e8d7f78" class="nameRef">espGetConfig</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *defaultValue)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a configuration value from the ESP pak.json.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#mpr_8h_1a87e9f435008723c7b1489af1944c6e20" class="ref">MprOff</a></td><td><a href="#group___esp_req_1ga8428a4283b20243796432100eba44e58" class="nameRef">espGetContentLength</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the receive body content length.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gada38f3320f81f64a5e3250db87eae7c4" class="nameRef">espGetContentType</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the receive body content type.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga58fe058c2f98531f1e887d0517ca9fb2" class="nameRef">espGetCookie</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a request cookie.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga62702b72ab28805a10e91b950068cdd8" class="nameRef">espGetCookies</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request cookies.</td></tr>
<tr class="apiDef"><td class="apiType">void*</td><td><a href="#group___esp_req_1ga10da3225d0d7f71c043431e25352d80e" class="nameRef">espGetData</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the private data reference for the current request set via <a class="ref" href="#group___esp_abbrev_1ga0e9f5142b6aa4d7c3695ef62a9e348b3">setData</a></td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi" class="ref">Edi*</a></td><td><a href="#group___esp_req_1ga19f1a34c4dbdd8ba13d9f1b99f8a0087" class="nameRef">espGetDatabase</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current database instance.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gaba7484ddb4b23310c96f3edd0ba175bb" class="nameRef">espGetDocuments</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the default documents directory for the request route.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="#group___esp_route" class="ref">EspRoute*</a></td><td><a href="#group___esp_req_1ga99b7cd967b2ce48dc76b44127f974143" class="nameRef">espGetEspRoute</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current extended route information.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gab8ed249d83c30f6f8271dae1bb5113d4" class="nameRef">espGetFeedback</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a feedback message defined via <a class="ref" href="#group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a">feedback</a></td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_req_1ga13b7685ae21d2ca2d17841c3aaf7844a" class="nameRef">espGetGrid</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current database grid reference.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga1b44acef67c3b77b5d971dae568f04c9" class="nameRef">espGetHeader</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get an rx http header.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#struct_mpr_hash" class="ref">MprHash*</a></td><td><a href="#group___esp_req_1ga6933802a04a50e59f7c603357e5259cd" class="nameRef">espGetHeaderHash</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the hash table of rx Http headers.</td></tr>
<tr class="apiDef"><td class="apiType">char*</td><td><a href="#group___esp_req_1gaa9c7f9f80957d3381e8f3c5186923da7" class="nameRef">espGetHeaders</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get all the request http headers.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_req_1ga8c516f5c15f5610e38c7a2c8f37f28cc" class="nameRef">espGetIntParam</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, int defaultValue)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a request pararmeter as an integer.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gac7b85335ce670c20417ca85abc2a7cbc" class="nameRef">espGetMethod</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the HTTP method.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga4cbe8eba43dbb755ee5e383c2834c225" class="nameRef">espGetParam</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *defaultValue)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a request parameter.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson*</a></td><td><a href="#group___esp_req_1ga8382335d9e26902afa136fcfa6b80061" class="nameRef">espGetParamObj</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a request pararmeter as a JSON object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson*</a></td><td><a href="#group___esp_req_1gaa4ae5df79b9c4d8321ecb2cd15d44d88" class="nameRef">espGetParams</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request parameters.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga38effdaea7a82a291a25429b27615ae5" class="nameRef">espGetPath</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request URI path string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gaff49a2cdac7305eff44fd5b880af0375" class="nameRef">espGetQueryString</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request URI query string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga245c96379910e75e222361c7da8bf7a7" class="nameRef">espGetReferrer</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the referring URI.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#http.html#group___http_route" class="ref">HttpRoute*</a></td><td><a href="#group___esp_req_1ga93d00311d73833d28cc1ae4ae4f96de7" class="nameRef">espGetRoute</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current route HttpRoute object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi" class="ref">Edi*</a></td><td><a href="#group___esp_req_1ga72246c1dc89e871ec596ae0959077af2" class="nameRef">espGetRouteDatabase</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the default database defined on a route.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga76d41fbdcef5bb1e55bb0ce775f9b9c2" class="nameRef">espGetRouteVar</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a route variable.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga0b83d3dc52626e002247af6df4ef7d74" class="nameRef">espGetSessionID</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int create)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the session state ID.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_req_1gac69ab5a3aefeb52ee610c97a782f5be8" class="nameRef">espGetStatus</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the response status.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga59410743c09731439663be5f50e1d60b" class="nameRef">espGetStatusMessage</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the Http response status message.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#http.html#group___http_stream" class="ref">HttpStream*</a></td><td><a href="#group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803" class="nameRef">espGetStream</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current request stream.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList*</a></td><td><a href="#group___esp_req_1ga72875560f986b06bc26f40a991dc8fbb" class="nameRef">espGetUploads</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the uploaded files.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gadfc219b6afc94969548fdef4d651ecee" class="nameRef">espGetUri</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request URI string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1gadb37c44514aa605a811280e2fdee9329" class="nameRef">espHasGrid</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a current grid has been defined via <a class="ref" href="#group___esp_req_1gad7e02f7b23d165704a2440bb3c9423a1">espSetGrid</a></td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga1b26f1c2f8e1f78024f076464c1483dc" class="nameRef">espHasRec</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a current record has been defined and save to the database.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_route_1gaca1c2bea3bde8c348d3d70c35ef21667" class="nameRef">espInit</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *prefix, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Initialize ESP.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#esp_8h_1a56eafbf70fb0509e85aa5070becbaca6" class="nameRef">espInitHtmlOptions</a>(<a href="#struct_esp" class="ref">Esp</a> *esp)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add HTLM internal options to the Esp.options hash.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#esp_8h_1a240f55c3789229bd59ec4c2c4b5c1557" class="nameRef">espInitParser</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Initialize the ESP configuration file parser.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1gaba5e635fa31811599d1d3c156164f1bf" class="nameRef">espIsAuthenticated</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the user is authenticated.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga87aa523e2a34d6c1db9355d16746ba83" class="nameRef">espIsCurrentSession</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the request is being made on behalf of the current, single authenticated user.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga911251b3456386c09a53a33c2f063c07" class="nameRef">espIsEof</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the receive input stream is at end-of-file.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga1a37202ca271308e8742ad69af29443b" class="nameRef">espIsFinalized</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the request has been finalized.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1gaad694d30c39f736bfd07a4e89facd407" class="nameRef">espIsSecure</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the stream is using SSL and is secure.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_route_1ga619751fdfd2aa494d0074bd661e5e103" class="nameRef">espLoadCompilerRules</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Load the compiler rules from esp-compile.json.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_route_1ga8719b78bdfb4e3228c6e9be843f45140" class="nameRef">espLoadConfig</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Load configuration for an ESP application.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga9de5abcd3d4052efaa3d3e410ebbf6c9" class="nameRef">espMatchParam</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Match a request parameter with an expected value.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#esp_8h_1a2f63950b45dd427b2bdfa7ae1c8f85c0" class="nameRef">espOpen</a>(<a href="edi.html#mpr.html#group___mpr_module" class="ref">MprModule</a> *module)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>ESP initialization entry point.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_req_1gaaf3880bbe3fffa1b95483b006f5075f6" class="nameRef">espReadTable</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read a table from the current database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga855352588dacdb979a50caae379b736e" class="nameRef">espReceive</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, char *buf, <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a> size)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read receive body content.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gad40cb0d52cde0cfa28a6040c5bc035e3" class="nameRef">espRedirect</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int status, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Redirect the client.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga8b565b1563e5dda7271549a1e2b96139" class="nameRef">espRedirectBack</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Redirect the client back to the referrer.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga3dc70abb6ffc559b812d3199aa4238db" class="nameRef">espRemoveCookie</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Remove a cookie.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_req_1gaa89cbec1f573b93990587fb190efe6bb" class="nameRef">espRemoveHeader</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Remove a header from the transmission.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga2ca5f0bbfd91449ba14ec1368c3731fb" class="nameRef">espRemoveSessionVar</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Remove a session state variable.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga740f0e3af771eb0b256cd7221e4bb4df" class="nameRef">espRender</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a formatted string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gab1ae06f7d01f771d47e06a97d6eb9a48" class="nameRef">espRenderBlock</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *buf, <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a> size)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a block of data to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga48248f6e2da9c63d14de1acfea49f0fb" class="nameRef">espRenderCached</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render cached content.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gafa3a630f74ad5bd46445737d204745b4" class="nameRef">espRenderConfig</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render the client configuration string in JSON.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga321591a7772d9555f93d8804513c0707" class="nameRef">espRenderDocument</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an ESP document.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga97dcf0c01a210b1190bbaf6ddec55626" class="nameRef">espRenderError</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int status, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an error message back to the client and finalize the request.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#esp_8h_1acd50895af625f24f565c21f27a934405" class="nameRef">espRenderFeedback</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *types)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render feedback messages.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga679268b7235fa3a44c66bc5ccf9d334a" class="nameRef">espRenderFile</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render the contents of a file back to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga73989d22b93eb4f2bd0e57f5312d7070" class="nameRef">espRenderSafe</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a formatted string after HTML escaping.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gac13211295b015088127ac10684933f19" class="nameRef">espRenderSafeString</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *s)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a safe string of data to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga08cb7d6bbbb06131994b6033ea99b5ad" class="nameRef">espRenderString</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *s)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a string of data to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga38422504736e4bd4d5a9af9a76345885" class="nameRef">espRenderVar</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render the value of a request variable to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga6b235109ed8caa6ff411df4160630ba9" class="nameRef">espRenderView</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *view, int flags)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an ESP view page to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="#group___esp_route" class="ref">EspRoute*</a></td><td><a href="#group___esp_route_1ga4f34c72cee102cf5cb115e3908261013" class="nameRef">espRoute</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> create)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Return the corresponding EspRoute for the given Route.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gabd3396f92f086163b3f873ab8f4ef68f" class="nameRef">espSendGrid</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid, int flags)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a database grid as a JSON string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1ga6ad553215efae37b30624cc189f8ec93" class="nameRef">espSendRec</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, int flags)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a database record as a JSON string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gab58e0600c271a9cd45d9b71f7946eb92" class="nameRef">espSendResult</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> success)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a JSON response result.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1gade4f16e9df197e729243386fb4adf9b5" class="nameRef">espSetAutoFinalizing</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> on)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Enable auto-finalizing for this request.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_route_1gada3b399d10e3f1eaee004cde256e379f" class="nameRef">espSetConfig</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a configuration value to the ESP pak.json.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga9159e247a36c454bc3e0840051b7233a" class="nameRef">espSetContentLength</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#mpr.html#mpr_8h_1a87e9f435008723c7b1489af1944c6e20" class="ref">MprOff</a> length)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define a content length header in the transmission.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gabed006452ae09b7a3c387755876429df" class="nameRef">espSetContentType</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *mimeType)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the transmission (response) content mime type.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga5b14b36d8775d67665900c6c241c01e0" class="nameRef">espSetCookie</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *domain, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> lifespan, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> isSecure)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a cookie in the transmission.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga7716b0e1e8129914f1ef94585c37673a" class="nameRef">espSetCurrentSession</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set this authenticated session as the current session.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#esp_8h_1a3534a4b4994b1de062c75ebb121b59fe" class="nameRef">espSetData</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, void *data)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a private data reference for the current request.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga771dab7992d00940e83a27d47c4fbeec" class="nameRef">espSetFeedback</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a feedback message.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gad86d75d3f1de8522aa232e023cfdde73" class="nameRef">espSetFeedbackv</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, va_list args)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a feedback message.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_req_1gad7e02f7b23d165704a2440bb3c9423a1" class="nameRef">espSetGrid</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the current database grid.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gac60ee82bf1ce6b09cfe9ebe669062af0" class="nameRef">espSetHeader</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a transmission header.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gad13e6dc837686a7b820105374750ed4f" class="nameRef">espSetHeaderString</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a simple key/value transmission header.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga6696ab81bed4cdd5031cf535e614e726" class="nameRef">espSetNotifier</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#http.html#group___http_stream_1gad583143fc934fa15f237b74102c31c4a" class="ref">HttpNotifier</a> notifier)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define a notifier callback for this stream.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga0363bac2a708d5185f9335fcfbffa510" class="nameRef">espSetParam</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a request parameter value.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga019457243559de65eafc912540707f28" class="nameRef">espSetParamInt</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, int value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set an integer request parameter value.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_req_1gab0cd421bde770ea19f09fe8cc52859d6" class="nameRef">espSetRec</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the current database record.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga5b28e98f9f6b7c9932dfe72f8afaa86d" class="nameRef">espSetStatus</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int status)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a Http response status.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga0f123fdd3a6adf76ecc8eb0a27cd7605" class="nameRef">espSetStream</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the current request stream.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gacfda1021dede1225a27d384584f066ad" class="nameRef">espShowRequest</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Show request details.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#esp_8h_1a2b6ab1f6cf9333533ece4ed0f871e0a6" class="nameRef">espStaticInitialize</a>(<a href="#group___esp_route_1ga39099f433a25379dcf1ff0381e78b8d3" class="ref">EspModuleEntry</a> entry, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *appName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *routeName)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Initialize a static library ESP module.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_route_1ga115c8f838daf7b187cb8a07787734f37" class="nameRef">espTestConfig</a>(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *desired)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a configuration property from the ESP pak.json has a desired value.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1gab4ece9543d64a835a54c225d2e5e49a3" class="nameRef">espUpdateCache</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *uri, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *data, int lifesecs)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Update the cached content for a request.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_req_1ga30c12797ca0400feda759dbc26485b56" class="nameRef">espUpdateRec</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Write a record to the database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga47472c968efbe0ba27b1b158887da6c1" class="nameRef">espUri</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a URI.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a" class="nameRef">feedback</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a feedback message.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga061eb4d725222504949f9eb49c619fd5" class="nameRef">finalize</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Finalize the response.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_abbrev_1gaead8228bdcabe7573b938276b9227c2d" class="nameRef">findGrid</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *select)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read matching records in table from the database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gadbdff80ba34ed0293ae0e67af143f3f4" class="nameRef">findParams</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Build an EDI selection query from the request parameters for use by SPA applications.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1gadc1fccd34c38647418e4724279651250" class="nameRef">findRec</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *query)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read a record identified by SQL style query expression.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1gad2de201bd5c4004d31bae21c1c00668c" class="nameRef">findRecWhere</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *operation, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value),ME_DEPRECATED(&quot;Use,findRec,instead&quot;)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read one record.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga0a9e9396972b76c5947592479860020d" class="nameRef">flush</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Flush transmit data.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#http.html#group___http_auth" class="ref">HttpAuth*</a></td><td><a href="#group___esp_abbrev_1ga651bbfd7b411eaf2da2fa9e47bdd1584" class="nameRef">getAuth</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the auth object for the current route.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList*</a></td><td><a href="#group___esp_abbrev_1ga4ab3c77c072c0e1b7a21439a85240d7e" class="nameRef">getColumns</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a list of column names.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga9647d3deb6392c55c9c1a144da45f797" class="nameRef">getConfig</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a field from the application pak.json configuration.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#mpr_8h_1a87e9f435008723c7b1489af1944c6e20" class="ref">MprOff</a></td><td><a href="#group___esp_abbrev_1gaffb7a50a3516099525ab1c1ca126f84e" class="nameRef">getContentLength</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the receive body content length.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga84b524f379282beaba700a273a981735" class="nameRef">getContentType</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the receive body content type.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gae268d333661e4ff0fccef953ac1871a9" class="nameRef">getCookies</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request cookies.</td></tr>
<tr class="apiDef"><td class="apiType">void*</td><td><a href="#group___esp_abbrev_1ga779fdc15ae8488b0eb564242724897c7" class="nameRef">getData</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the private data reference for the current request set via <a class="ref" href="#group___esp_abbrev_1ga0e9f5142b6aa4d7c3695ef62a9e348b3">setData</a></td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi" class="ref">Edi*</a></td><td><a href="#group___esp_abbrev_1gace84213f938b7f5ab66f45da0d66bea8" class="nameRef">getDatabase</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current database instance.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_dispatcher" class="ref">MprDispatcher*</a></td><td><a href="#group___esp_abbrev_1gac412f9805ef6d334283832762c8758c7" class="nameRef">getDispatcher</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the stream dispatcher object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gadf3908de0de90bb994420a2bbdccfd38" class="nameRef">getDocuments</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the default document root directory for the request route.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="#group___esp_route" class="ref">EspRoute*</a></td><td><a href="#group___esp_abbrev_1ga81221f706195387c33632f295a384495" class="nameRef">getEspRoute</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the extended route EspRoute structure.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga35b754641777f940d7902f1887cbda55" class="nameRef">getFeedback</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a feedback message defined via <a class="ref" href="#group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a">feedback</a></td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gac52ae6c15d4dc95d264a15235187f915" class="nameRef">getField</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a field from the current database record.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gaca4c0e5a528f05f835631b4f60b2917c" class="nameRef">getFieldError</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a field in the current record has input validation errors.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_abbrev_1ga3e38d508316931b7ae336e76e0bdb8a8" class="nameRef">getGrid</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current database grid.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga3a9e6969b5beb4c554ec9032b322c0fe" class="nameRef">getHeader</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get an rx http header.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1ga3657efaa1e51a7053167d4dc19b7ffc7" class="nameRef">getMethod</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the HTTP method.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga11a8fab091700ea6fda0272f506cbe2a" class="nameRef">getPath</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request URI path string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga1e64f32a0ae1f02c720cc88afdf732ef" class="nameRef">getQuery</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the HTTP URI query string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026" class="nameRef">getRec</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the current database record.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gad1d00c8067d56cd21e541f7b38302b9e" class="nameRef">getReferrer</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the referring URI.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="#group___esp_req" class="ref">EspReq*</a></td><td><a href="#group___esp_abbrev_1ga58c7660a9f8d6ffb1628ef6193923b16" class="nameRef">getReq</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the ESP request object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#http.html#group___http_route" class="ref">HttpRoute*</a></td><td><a href="#group___esp_abbrev_1gab5a8bc264b8f807cc6d0fbcf60c5036a" class="nameRef">getRoute</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the HttpRoute object for the current route.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga92e6ff4802af91997ae38c5dff9085d1" class="nameRef">getSecurityToken</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the security token.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga239b3a284ed503443e493c4df79240bd" class="nameRef">getSessionID</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the session state ID.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga241f0cd4f5d49f8a137f1024415b2674" class="nameRef">getSessionVar</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a session state variable.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#http.html#group___http_stream" class="ref">HttpStream*</a></td><td><a href="#group___esp_abbrev_1ga153892a3acf416dc1404e30206d8d340" class="nameRef">getStream</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the HttpStream object.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList*</a></td><td><a href="#group___esp_abbrev_1gac9050b6d24d299c5272fc0dd57c7c868" class="nameRef">getUploads</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the uploaded files.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga7f9a4115f52985c9609d4b1dcc0474b0" class="nameRef">getUri</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get the request URI string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1gaee6d5f8de45b641f364b59b855e395d3" class="nameRef">hasGrid</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a current grid has been defined.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga024fdd517ead11d0c3247b53b0509eee" class="nameRef">hasRec</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a current record has been defined and save to the database.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gaa3f886ac8ecb0b4f2f6decb1da1f5c82" class="nameRef">input</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *options)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an input field as part of a form.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga93fc43b556cd29f99195a236b3c4f2c6" class="nameRef">inputSecurityToken</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an input field with a hidden XSRF security token.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga38c15bc6da6061193e4ece0be7222b3a" class="nameRef">isAuthenticated</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the user is authenticated.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1gae9563514d2bce554b8fb7e74144ceb4a" class="nameRef">isEof</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the receive input stream is at end-of-file.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga76ec4206bd2235bfc5d7ae3189fe9fd6" class="nameRef">isFinalized</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if a http request is finalized.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1gae69c795a239fe68b0f60b36c8cc546ea" class="nameRef">isSecure</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test if the stream is using SSL and is secure.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#struct_mpr_hash" class="ref">MprHash*</a></td><td><a href="#group___esp_abbrev_1gae478be50b70b65cbc43e79a2f7e87ad3" class="nameRef">makeHash</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Make a hash table container of property values.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson*</a></td><td><a href="#group___esp_abbrev_1ga3e4e27c82fe15a0e658412b26747e0d4" class="nameRef">makeJson</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Make a JSON object container of property values.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1ga0292bb1e6965cb8befad09d4ce7a2839" class="nameRef">makeRec</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *content)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Make a free-standing record.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_req_1gad221f00eaacb1253a8e9d0f29e11c55e" class="nameRef">makeUri</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a URI.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga1d0fda1c77c88bd3b74df6572365b1f3" class="nameRef">md5</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *str)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get an MD5 checksum.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga9514f98ecae65f2654ad8a42c9549b62" class="nameRef">modeIs</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *check)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Test the the application mode.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga051c9777e0134ff070467a02e38466a8" class="nameRef">nonce</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Generate a onetime random string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1gad638c34898123293ebc120c1f9396a9c" class="nameRef">param</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a request parameter.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_abbrev_1ga55013b75f2ed92726f73e4c4137cbf9f" class="nameRef">paramInt</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get an integer request parameter.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson*</a></td><td><a href="#group___esp_abbrev_1ga13931995115dd8d7c7725afe54c6a1ba" class="nameRef">params</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a collection of request parameters.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1gaebd6eb20a67d36dca94880e1545dfe1b" class="nameRef">readRec</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read a record identified by key value.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_abbrev_1ga191e1bf0423a9cf77e85b613efc28bee" class="nameRef">readTable</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName),ME_DEPRECATED(&quot;Use,findGrid,instead&quot;)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read all the records in table from the database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_abbrev_1gadbe316e24230e57a77270272a74c9f45" class="nameRef">readWhere</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *operation, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value),ME_DEPRECATED(&quot;Use,findGrid,instead&quot;)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read matching records.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1ga3a7af8bca824b7941d058eeb598194ca" class="nameRef">receive</a>(char *buf, <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a> size)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Read receive body content.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga79cf206805a9595395af14e7c35f289d" class="nameRef">redirect</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Redirect the client.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga5ac5ea8fa8f059beb45ada13785117bf" class="nameRef">redirectBack</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Redirect the client back to the referrer.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga1a0cf9222507a1e1472cf53856bebb2c" class="nameRef">removeCookie</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Remove a cookie.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga09091b0bc981b74fdf0b197fbee8adab" class="nameRef">removeRec</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Remove a record from a database table.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga7a4f867b83fd68a2f888fe2850572d6e" class="nameRef">removeSessionVar</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Remove a session state variable.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1gaf89154adc3cbf6d6a6a32c6b4457c593" class="nameRef">render</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a formatted string.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1ga9f033233a59a6e976d92be561cfbe7e2" class="nameRef">renderCached</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render cached content.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1ga2353b590d91fb2f98b77a8efd4ee8f36" class="nameRef">renderConfig</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render the pak.json.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga5c6a2717cd75e9e0069b206507e5207e" class="nameRef">renderError</a>(int status, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an error message back to the client and finalize the request.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gacf71df9dabcd97ec88211ef4561c5033" class="nameRef">renderFeedback</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *types)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render feedback messages.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1gaa1e37f244a0e0796df494dfb756472a8" class="nameRef">renderFile</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a file back to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1ga40445cbba9d5b3a5baec51e59e3d6340" class="nameRef">renderSafe</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a formatted string after HTML escaping.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1gaaafafb9657167c8093d9015733dd15e2" class="nameRef">renderString</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *s)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render a string of data to the client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_abbrev_1ga688f12fa155a796f2f35f33cc52d5abb" class="nameRef">renderVar</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render the value of a request variable to the client.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gaf0db430f850378bd83c514a0dda77fb9" class="nameRef">renderView</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *view)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Render an ESP page to the client.</td></tr>
<tr class="apiDef"><td class="apiType">int</td><td><a href="#group___esp_abbrev_1ga1d226bb7d309a4586b862d409f53ab9f" class="nameRef">runCmd</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *command, char *input, char **output, char **error, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> timeout, int flags)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Run a command.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gac543bc47fde0b8a6fc995a6eb66ad080" class="nameRef">securityToken</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Add the security token to the response.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gab8d6f093fa851a73a6e80b20ea1cbc9d" class="nameRef">sendGrid</a>(<a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a database grid as a JSON string to the request client.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a></td><td><a href="#group___esp_req_1gaa7f2ab9ce2162dcc0a10f82e74a92d80" class="nameRef">sendRec</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a database record as a JSON string.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_req_1ga5a39a9b8619ef0cc07818c3a79eb023c" class="nameRef">sendResult</a>(<a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> status)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Send a JSON response result.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga45c8bf65c9eacac2512533dbc006db2b" class="nameRef">session</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Get a session state variable.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gafe8d897ff436eabc6fc275f76222a5c3" class="nameRef">setContentType</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *mimeType)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the transmission (response) content mime type.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gaea6086cd23b087b13921a4028940792c" class="nameRef">setCookie</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *domain, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> lifespan, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> isSecure)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Define a cookie header to send with the response.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga0e9f5142b6aa4d7c3695ef62a9e348b3" class="nameRef">setData</a>(void *data)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a private data reference for the current request.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1ga6c39fec614ae333bcc5448930ab2dc8d" class="nameRef">setField</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Update a record field without writing to the database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1gaaabf240c427f1f246fadc85535525401" class="nameRef">setFields</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *data)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Update record fields without writing to the database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_grid" class="ref">EdiGrid*</a></td><td><a href="#group___esp_abbrev_1gaeed08cdbf64becc6ea822e9208831f63" class="nameRef">setGrid</a>(<a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the current database grid reference.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gaf4cbdf3eef410884ed0928066d0503f2" class="nameRef">setHeader</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a transmission header.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga7d227ab7fdc91d90a4484550ea9482b8" class="nameRef">setNotifier</a>(<a href="edi.html#http.html#group___http_stream_1gad583143fc934fa15f237b74102c31c4a" class="ref">HttpNotifier</a> notifier)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a notifier callback for the stream.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga65fe2a97ffad029e6229e4e2dd290dd5" class="nameRef">setParam</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a request parameter value.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga3fb6e8cbd912ffb1c5ba2356b418e7d2" class="nameRef">setParamInt</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, int value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set an integer request parameter value.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#group___edi_rec" class="ref">EdiRec*</a></td><td><a href="#group___esp_abbrev_1gafef8aa52aab6f3d8a3eebfe7eeb0edf4" class="nameRef">setRec</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the current database record.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1gadb4f7bc3020ab9c481f1ebcaf1ed3f2a" class="nameRef">setSessionVar</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a session state variable.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga63470999d986c7d2d064dc44cdc2fcac" class="nameRef">setStatus</a>(int status)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set a Http response status.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga1487b30d79697bba676f039a03ff744b" class="nameRef">setStream</a>(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Set the current request stream.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga07243a4b521119ce41362163afb45032" class="nameRef">setTimeout</a>(void *proc, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> timeout, void *data)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a timeout event.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga0207a5efd3abae696bbe759f5f453c0f" class="nameRef">showRequest</a>(void)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Show request details.</td></tr>
<tr class="apiDef"><td class="apiType">void</td><td><a href="#group___esp_abbrev_1ga71ab6f699454ab16232f98c28a47935c" class="nameRef">updateCache</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *uri, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *data, int lifesecs)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Update the cached content for a request.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga8aef62e678a3e5602d8dd4b2b85db394" class="nameRef">updateField</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Write a value to a database table field.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga4a1259d2b9cb98ecba45266954ee31e4" class="nameRef">updateFields</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *data)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Write field values to a database row.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1gaac69d2eab0ce7dfea56ac4714d0e6e55" class="nameRef">updateRec</a>(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Save a record to the database.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a></td><td><a href="#group___esp_abbrev_1ga991073350c22cfb5830a5d18da91ffb5" class="nameRef">updateRecFromParams</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *table),ME_DEPRECATED(&quot;Use,updateRecFields,instead&quot;)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Update a record from the request parameters.</td></tr>
<tr class="apiDef"><td class="apiType"><a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar*</a></td><td><a href="#group___esp_abbrev_1ga78e593db4bd2c434476b90c5b99a17ca" class="nameRef">uri</a>(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target, ...)</td></tr><tr class="apiBrief"><td>&nbsp;</td><td>Create a URI link.</td></tr>
</table>
<a name="Typedefs"></a><h1>Typedefs</h1>
<table class="apiIndex" title="typedefs">
<tr class="apiDef"><td class="apiName"><a href="#struct_esp" class="nameRef">Esp</a></td><td class="apiBrief">Top level ESP structure.</td></tr>
<tr class="apiDef"><td class="apiName"><a href="#struct_esp_action" class="nameRef">EspAction</a></td><td class="apiBrief">Action definition.</td></tr>
<tr class="apiDef"><td class="apiName"><a href="#esp_8h_1adc749236ce9c01e8c3f43a4b779df700" class="nameRef">EspLegacyProc</a></td><td class="apiBrief">Procedure callback.</td></tr>
<tr class="apiDef"><td class="apiName"><a href="#group___esp_route_1ga39099f433a25379dcf1ff0381e78b8d3" class="nameRef">EspModuleEntry</a></td><td class="apiBrief">Entry point for a loadable ESP module.</td></tr>
<tr class="apiDef"><td class="apiName"><a href="#group___esp_req_1gaade394637a4d5f682c1edcc287023658" class="nameRef">EspViewProc</a></td><td class="apiBrief">View procedure callback.</td></tr>
</table>
<a name="Defines"></a><h1>Defines</h1>
<table class="apiIndex" title="Defines">
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1aa6f48e3182369365e297875b006aa9a2" class="nameRef">ESP_COMPILE_JSON</a>&nbsp;&nbsp;&nbsp;&quot;esp-compile.json&quot;</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Compile rules filename.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1aa68f305d1ecb9ade4367dd644343c3e3" class="nameRef">ESP_COMPILE_OPTIMIZED</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Override to compile in release mode.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1a9e73077dd63f91100f534eccf609087b" class="nameRef">ESP_COMPILE_SYMBOLS</a>&nbsp;&nbsp;&nbsp;0</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Override to compile in debug mode.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1a61427a6279173262d67b485f3e83a5d8" class="nameRef">ESP_LIFESPAN</a>&nbsp;&nbsp;&nbsp;(3600 * TPS)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default generated content cache lifespan.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1a43fbeae907747e051a493bb33e63a4f4" class="nameRef">ESP_LISTEN</a>&nbsp;&nbsp;&nbsp;&quot;4000&quot;</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Default listening endpoint for the esp program.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1aba24bbfd8deaacad96a6aa1aa88b4dd1" class="nameRef">ESP_TOK_INCR</a>&nbsp;&nbsp;&nbsp;1024</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Growth increment for ESP tokens.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1aaa20b3ba42a13818a076cb243333f8dd" class="nameRef">ESP_UNLOAD_TIMEOUT</a>&nbsp;&nbsp;&nbsp;(10)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Very short timeout for reloading.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1a83ac0bb3f3dacee229192dd9d52de9d7" class="nameRef">ME_ESP_ABBREV</a>&nbsp;&nbsp;&nbsp;1</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Enable the ESP Abbreviated API.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1a127996447ce859e8cd9a792090171d1f" class="nameRef">ME_ESP_EMAIL_TIMEOUT</a>&nbsp;&nbsp;&nbsp;(60 * 1000)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Timeout for sending email.</td></tr>
<tr class="apiDef">
<td>#define</td><td><a href="#esp_8h_1a70054cf2427d6a3f1de5d4843046ef6b" class="nameRef">ME_ESP_RELOAD_TIMEOUT</a>&nbsp;&nbsp;&nbsp;(5 * 1000)</td>
</tr>
<tr class="apiBrief"><td>&nbsp;</td><td>Timeout for reloading esp modules.</td></tr>
  </table>
<h1>EspAbbrev</h1>
<a name="group___esp_abbrev"></a>
<div class="api">
  <div class="prototype">EspAbbrev</div>
  <div class="apiDetail">
<p>Abbreviated ESP API.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a short-form API that uses the current HttpStream stream object. These APIs are designed to be terse and highly readable. Consequently, they are not prefixed with &quot;esp&quot;.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" title="Parameters">
    </table></dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga3de25d5c0ff5232da8f3460794fcc37d"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    absuri
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target, ...)
  </div>
  <div class="apiDetail">
<p>Create an absolute URI with a scheme and host.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">target</td><td>The URI target. See httpLink for details.</td>
    <tr><td class="param">...</td><td>arguments to the formatted target string.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A normalized, absolute Uri string containing scheme and host.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadba1deb080e78b4517119a0294489b44"></a>
<div class="api">
  <div class="prototype">
    void
    addHeader
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Add a header to the transmission using a format string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Add a header if it does not already exist.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the header key value.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code. Returns MPR_ERR_ALREADY_EXISTS if the header already exists.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gade12fd081c2a017ad6068cc9e77f3977"></a>
<div class="api">
  <div class="prototype">
    void
    addParam
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Add a request parameter value if not already defined.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Name of the request parameter to set.</td>
    <tr><td class="param">value</td><td>Value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga06c4528395fd1b375d9ac771cf59a8b5"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    canUser
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *abilities, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> warn)
  </div>
  <div class="apiDetail">
<p>Test if a user has the required abilities.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">abilities</td><td>Comma separated list of abilities to test for. If null, then use the required abilities defined for the current request route.</td>
    <tr><td class="param">warn</td><td>If true, warn the user via <a class="ref" href="#group___esp_req_1ga5a39a9b8619ef0cc07818c3a79eb023c">sendResult</a></td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the user has all the required abilities.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaecb1d262045b8a9b793c692c6f6df854"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    createRec
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *data)
  </div>
  <div class="apiDetail">
<p>Create a record and initialize field values.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will call <a class="ref" href="#group___edi_1gad4e706a1a2d9ff527c9d42612ebeeae1" external="/Users/mob/dev/esp/doc/api/edi.dtags">ediCreateRec</a> to create a record based on the table&apos;s schema. It will then call <a class="ref" href="#group___esp_abbrev_1gaaabf240c427f1f246fadc85535525401">setFields</a> to update the record with the given data. The record is remembered for this request as the &quot;current&quot; record and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026">getRec()</a>. The record is not written to the database. Use <a class="ref" href="#group___esp_abbrev_1gaac69d2eab0ce7dfea56ac4714d0e6e55">updateRec</a> to write to the database.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">data</td><td>Json object with field values.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>EdRec instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadfb986955cb858805a1b6c1c526ee726"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    createRecByParams
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *table)
  </div>
  <div class="apiDetail">
<p>Create a record from the request parameters.</p>
    <dl><dt><b>Description</b>:</dt><dd>A new record is created with the request parameters in the specified table. The record is remembered for this request as the &quot;current&quot; record and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026">getRec()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">table</td><td>Database table to update.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the update is successful.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga5be0da11b7438947e9508f2b0e1a9a1f"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    createRecFromParams
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *table)
  </div>
  <div class="apiDetail">
<p>Create a record from the request parameters.</p>
    <dl><dt><b>Description</b>:</dt><dd>A new record is created with the request parameters in the specified table. The record is remembered for this request as the &quot;current&quot; record and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026">getRec()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">table</td><td>Database table to update.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the update is successful.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gafd8e418ad6839251b5f058f7bd2c1c3b"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    createSession
(void )
  </div>
  <div class="apiDetail">
<p>Create a session state object.</p>
    <dl><dt><b>Description</b>:</dt><dd>The session state object can be used to share state between requests. If a session has not already been created, this call will create a new session. It will create a response cookie containing a session ID that will be sent to the client with the response. Note: Objects are stored in the session state using JSON serialization.</dd></dl>
    <dl><dt>Returns:</dt><dd>Session ID string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga03cbcd66ad537a10bcf4b979d211f5c1"></a>
<div class="api">
  <div class="prototype">
    void
    destroySession
(void )
  </div>
  <div class="apiDetail">
<p>Destroy a session state object.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will emit an expired cookie to the client to force it to erase the session cookie.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaff2494fbe89907f66d1a00bfc3c0f53b"></a>
<div class="api">
  <div class="prototype">
    void
    dontAutoFinalize
(void )
  </div>
  <div class="apiDetail">
<p>Don&apos;t auto-finalize this request.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga59e03741fc139bbfe159b19c0ec0ab3b"></a>
<div class="api">
  <div class="prototype">
    void
    dumpGrid
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message, <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)
  </div>
  <div class="apiDetail">
<p>Display the grid to the debug log.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">message</td><td>Prefix message to output.</td>
    <tr><td class="param">grid</td><td>EDI grid.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga6185ee40ad6b60aab06ffe4b7f633ad9"></a>
<div class="api">
  <div class="prototype">
    void
    dumpParams
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message)
  </div>
  <div class="apiDetail">
<p>Display request parameters to the debug log.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">message</td><td>Prefix message to output.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga92161376031e92987063467cb6f1dbd3"></a>
<div class="api">
  <div class="prototype">
    void
    dumpRec
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Display a record to the debug log.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">message</td><td>Prefix message to output.</td>
    <tr><td class="param">rec</td><td>Record to log.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    feedback
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Set a feedback message.</p>
    <dl><dt><b>Description</b>:</dt><dd>Feedback messages are a convenient way to aggregate messages state information in the response. The <a class="ref" href="#group___esp_abbrev_1ga35b754641777f940d7902f1887cbda55">getFeedback</a> API can be used to retrieve feedback messages. Feedback messages are removed at the completion of the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">type</td><td>type of feedback message. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the message.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the request has been successful so far, i.e. there is not an error feedback message defined. Return false if there is an error feedback defined. This permits feedback to be chained as: sendResult(feedback(&quot;error&quot;, ...));.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga061eb4d725222504949f9eb49c619fd5"></a>
<div class="api">
  <div class="prototype">
    void
    finalize
(void )
  </div>
  <div class="apiDetail">
<p>Finalize the response.</p>
    <dl><dt><b>Description</b>:</dt><dd>Signals the end of any and all response data and flushes any buffered write data to the client. If the request has already been finalized, this call has no additional effect. This routine calls <a class="ref" href="#group___esp_req_1gafa8c60c6ae199dd31fa92c4dbbaa7c2d">espFinalize</a></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaead8228bdcabe7573b938276b9227c2d"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    findGrid
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *select)
  </div>
  <div class="apiDetail">
<p>Read matching records in table from the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>This reads a table and returns a grid containing the table data. The grid of records is remembered for this request as the &quot;current&quot; grid and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga3e38d508316931b7ae336e76e0bdb8a8">getGrid()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">select</td><td>Selection format string. This is a printf style format string. This will contain a select criteria typically of the form: &quot;Field Op Value AND field OP value ...&quot;. All fields may be matched by using the pseudo column name &quot;*&quot;. OP is &quot;==&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, &quot;&gt;=&quot; or &quot;&gt;&lt;&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A grid containing all table rows. Returns NULL if the table cannot be found.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadbdff80ba34ed0293ae0e67af143f3f4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    findParams
(void )
  </div>
  <div class="apiDetail">
<p>Build an EDI selection query from the request parameters for use by SPA applications.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call creates an EDI &quot;SQL style&quot; query from the request parameters. This call expects optional &quot;fields&quot; and &quot;options&quot; parameters with options.offset, options.limit and options.filter parameters. It examines each of the &quot;fields&quot; parameters to build an SQL &quot;WHERE&quot; expression testing the value of each field. The resulting expression looks like: <br/><br/>
 field OP value AND field OP value .... LIMIT offset, limit.</dd></dl>
    <dl><dt>Returns:</dt><dd>An EDI sql style selection query string suitable for use with <a class="ref" href="#group___esp_abbrev_1gadc1fccd34c38647418e4724279651250">findRec</a> and <a class="ref" href="#group___esp_abbrev_1gaead8228bdcabe7573b938276b9227c2d">findGrid</a></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadc1fccd34c38647418e4724279651250"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    findRec
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *query)
  </div>
  <div class="apiDetail">
<p>Read a record identified by SQL style query expression.</p>
    <dl><dt><b>Description</b>:</dt><dd>Read a record from the given table as described by the selection criteria. The record is remembered for this request as the &quot;current&quot; record and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026">getRec()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">query</td><td>SQL like query expression. This arg is a printf style format string. When expanded, this will contain a SQL style query expression of the form: &quot;Field Op Value AND field OP value ... LIMIT offset, limit&quot;. All fields may be matched by using the pseudo column name &quot;*&quot;. OP is &quot;==&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, &quot;&gt;=&quot; or &quot;&gt;&lt;&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Record instance of EdiRec.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gad2de201bd5c4004d31bae21c1c00668c"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    findRecWhere
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *operation, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Read one record.</p>
    <dl><dt><b>Description</b>:</dt><dd>This runs a simple query on the database and selects the first matching record. The query selects a row that has a &quot;field&quot; that matches the given &quot;value&quot;. The record is remembered for this request as the &quot;current&quot; record and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026">getRec()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">fieldName</td><td>Database field name to evaluate.</td>
    <tr><td class="param">operation</td><td>Comparison operation. Set to &quot;==&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot; or &quot;&gt;=&quot;.</td>
    <tr><td class="param">value</td><td>Data value to compare with the field values.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>First matching record. Returns NULL if no matching records.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga0a9e9396972b76c5947592479860020d"></a>
<div class="api">
  <div class="prototype">
    void
    flush
(void )
  </div>
  <div class="apiDetail">
<p>Flush transmit data.</p>
    <dl><dt><b>Description</b>:</dt><dd>This writes any buffered data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga651bbfd7b411eaf2da2fa9e47bdd1584"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#http.html#group___http_auth" class="ref">HttpAuth</a> *
    getAuth
(void )
  </div>
  <div class="apiDetail">
<p>Get the auth object for the current route.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga4ab3c77c072c0e1b7a21439a85240d7e"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList</a> *
    getColumns
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Get a list of column names.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">rec</td><td>Database record.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>An MprList of column names in the given table. If there is no record defined, an empty list is returned.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga9647d3deb6392c55c9c1a144da45f797"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getConfig
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field)
  </div>
  <div class="apiDetail">
<p>Get a field from the application pak.json configuration.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">field</td><td>Property field name in pak.json. May contain dots.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The field value. Returns &quot;&quot; if the field is not found.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaffb7a50a3516099525ab1c1ca126f84e"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#mpr_8h_1a87e9f435008723c7b1489af1944c6e20" class="ref">MprOff</a>
    getContentLength
(void )
  </div>
  <div class="apiDetail">
<p>Get the receive body content length.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the length of the receive body content (if any). This is used in servers to get the length of posted data and in clients to get the response body length.</dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the response content data in bytes.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga84b524f379282beaba700a273a981735"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getContentType
(void )
  </div>
  <div class="apiDetail">
<p>Get the receive body content type.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the content mime type of the receive body content (if any).</dd></dl>
    <dl><dt>Returns:</dt><dd>Mime type of any receive content. Set to NULL if not posted data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gae268d333661e4ff0fccef953ac1871a9"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getCookies
(void )
  </div>
  <div class="apiDetail">
<p>Get the request cookies.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the cookies defined in the current request.</dd></dl>
    <dl><dt>Returns:</dt><dd>Return a string containing the cookies sent in the Http header of the last request.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga779fdc15ae8488b0eb564242724897c7"></a>
<div class="api">
  <div class="prototype">
    void *
    getData
(void )
  </div>
  <div class="apiDetail">
<p>Get the private data reference for the current request set via <a class="ref" href="#group___esp_abbrev_1ga0e9f5142b6aa4d7c3695ef62a9e348b3">setData</a></p>
    <dl><dt>Returns:</dt><dd>Reference to private data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gace84213f938b7f5ab66f45da0d66bea8"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi" class="ref">Edi</a> *
    getDatabase
(void )
  </div>
  <div class="apiDetail">
<p>Get the current database instance.</p>
    <dl><dt><b>Description</b>:</dt><dd>A route may have a default database configured via the EspDb Appweb.conf configuration directive. The database will be opened when the web server initializes and will be shared between all requests using the route.</dd></dl>
    <dl><dt>Returns:</dt><dd>Edi EDI database handle.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gac412f9805ef6d334283832762c8758c7"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_dispatcher" class="ref">MprDispatcher</a> *
    getDispatcher
(void )
  </div>
  <div class="apiDetail">
<p>Get the stream dispatcher object.</p>
    <dl><dt>Returns:</dt><dd>MprDispatcher stream dispatcher instance object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadf3908de0de90bb994420a2bbdccfd38"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getDocuments
(void )
  </div>
  <div class="apiDetail">
<p>Get the default document root directory for the request route.</p>
    <dl><dt>Returns:</dt><dd>A directory path name.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga81221f706195387c33632f295a384495"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___esp_route" class="ref">EspRoute</a> *
    getEspRoute
(void )
  </div>
  <div class="apiDetail">
<p>Get the extended route EspRoute structure.</p>
    <dl><dt>Returns:</dt><dd>EspRoute instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga35b754641777f940d7902f1887cbda55"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getFeedback
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type)
  </div>
  <div class="apiDetail">
<p>Get a feedback message defined via <a class="ref" href="#group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a">feedback</a></p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">type</td><td>type of feedback message to retrieve. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Reference to private data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gac52ae6c15d4dc95d264a15235187f915"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getField
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field)
  </div>
  <div class="apiDetail">
<p>Get a field from the current database record.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">rec</td><td>Database record.</td>
    <tr><td class="param">field</td><td>Field name to return.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String value for &quot;field&quot; in the current record.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaca4c0e5a528f05f835631b4f60b2917c"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getFieldError
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field)
  </div>
  <div class="apiDetail">
<p>Test if a field in the current record has input validation errors.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga3e38d508316931b7ae336e76e0bdb8a8"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    getGrid
(void )
  </div>
  <div class="apiDetail">
<p>Get the current database grid.</p>
    <dl><dt><b>Description</b>:</dt><dd>The current grid is defined via <a class="ref" href="#group___esp_abbrev_1gaeed08cdbf64becc6ea822e9208831f63">setGrid</a></dd></dl>
    <dl><dt>Returns:</dt><dd>EdiGrid instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga3a9e6969b5beb4c554ec9032b322c0fe"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getHeader
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)
  </div>
  <div class="apiDetail">
<p>Get an rx http header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get a http response header for a given header key.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">key</td><td>Name of the header to retrieve. This should be a lower case header name. For example: &quot;Connection&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Value associated with the header key or null if the key did not exist in the response.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga11a8fab091700ea6fda0272f506cbe2a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getPath
(void )
  </div>
  <div class="apiDetail">
<p>Get the request URI path string.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the request URI path. This is the portion after the application/route prefix.</dd></dl>
    <dl><dt>Returns:</dt><dd>The <a class="ref" href="#group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803">espGetStream()</a>-&gt;rx-&gt;pathInfo.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga1e64f32a0ae1f02c720cc88afdf732ef"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getQuery
(void )
  </div>
  <div class="apiDetail">
<p>Get the HTTP URI query string.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the query string for the current request.</dd></dl>
    <dl><dt>Returns:</dt><dd>The <a class="ref" href="#group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803">espGetStream()</a>-&gt;rx-&gt;parsedUri-&gt;query property.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    getRec
(void )
  </div>
  <div class="apiDetail">
<p>Get the current database record.</p>
    <dl><dt>Returns:</dt><dd>EdiRec instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gad1d00c8067d56cd21e541f7b38302b9e"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getReferrer
(void )
  </div>
  <div class="apiDetail">
<p>Get the referring URI.</p>
    <dl><dt><b>Description</b>:</dt><dd>This returns the referring URI as described in the HTTP &quot;referer&quot; (yes the HTTP specification does spell it incorrectly) header. If this header is not defined, this routine will return the home URI as returned by uri(&quot;~&quot;).</dd></dl>
    <dl><dt>Returns:</dt><dd>String URI back to the referring URI. If no referrer is defined, refers to the home URI.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga58c7660a9f8d6ffb1628ef6193923b16"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___esp_req" class="ref">EspReq</a> *
    getReq
(void )
  </div>
  <div class="apiDetail">
<p>Get the ESP request object.</p>
    <dl><dt>Returns:</dt><dd>EspReq request instance object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gab5a8bc264b8f807cc6d0fbcf60c5036a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *
    getRoute
(void )
  </div>
  <div class="apiDetail">
<p>Get the HttpRoute object for the current route.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga92e6ff4802af91997ae38c5dff9085d1"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getSecurityToken
(void )
  </div>
  <div class="apiDetail">
<p>Get the security token.</p>
    <dl><dt><b>Description</b>:</dt><dd>To minimize form replay attacks, a security token may be required for POST requests on a route. Client-side Javascript must then send this token as a request header in subsquent POST requests. To configure a route to require security tokens, call <a class="ref" href="#group___http_route_1ga4b4feabc71a3ad15f2b9d33722a2340b" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpSetRouteXsrf</a></dd></dl>
    <dl><dt>Returns:</dt><dd>The security token.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga239b3a284ed503443e493c4df79240bd"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getSessionID
(void )
  </div>
  <div class="apiDetail">
<p>Get the session state ID.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will get a session and return the session ID. This will create a new session state storage area if one does not already exist.</dd></dl>
    <dl><dt>Returns:</dt><dd>The session state identifier string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga241f0cd4f5d49f8a137f1024415b2674"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getSessionVar
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Get a session state variable.</p>
    <dl><dt><b>Description</b>:</dt><dd>The <a class="ref" href="#group___esp_abbrev_1ga45c8bf65c9eacac2512533dbc006db2b">session</a> API is an alias for this routine.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Variable name to get.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The session variable value. Returns NULL if not set.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga153892a3acf416dc1404e30206d8d340"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *
    getStream
(void )
  </div>
  <div class="apiDetail">
<p>Get the HttpStream object.</p>
    <dl><dt><b>Description</b>:</dt><dd>Before a view or controller is run, the current stream object for the request is saved in thread local data. Most EspAbbrev APIs take an HttpStream object as an argument.</dd></dl>
    <dl><dt>Returns:</dt><dd>HttpStream stream instance object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gac9050b6d24d299c5272fc0dd57c7c868"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList</a> *
    getUploads
(void )
  </div>
  <div class="apiDetail">
<p>Get the uploaded files.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the list of uploaded files.</dd></dl>
    <dl><dt>Returns:</dt><dd>A list of HttpUploadFile objects.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga7f9a4115f52985c9609d4b1dcc0474b0"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getUri
(void )
  </div>
  <div class="apiDetail">
<p>Get the request URI string.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the request URI.</dd></dl>
    <dl><dt>Returns:</dt><dd>The <a class="ref" href="#group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803">espGetStream()</a>-&gt;rx-&gt;uri.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaee6d5f8de45b641f364b59b855e395d3"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    hasGrid
(void )
  </div>
  <div class="apiDetail">
<p>Test if a current grid has been defined.</p>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if a current grid has been defined.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga024fdd517ead11d0c3247b53b0509eee"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    hasRec
(void )
  </div>
  <div class="apiDetail">
<p>Test if a current record has been defined and save to the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call returns &quot;true&quot; if a current record is defined and has been saved to the database with a valid &quot;id&quot; field.</dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if a current record with a valid &quot;id&quot; is defined.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaa3f886ac8ecb0b4f2f6decb1da1f5c82"></a>
<div class="api">
  <div class="prototype">
    void
    input
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *field, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *options)
  </div>
  <div class="apiDetail">
<p>Render an input field as part of a form.</p>
This is a smart input control that will call the appropriate input control based on the database record field data type. This control should not be used if using the esp-vue-mvc or other similar client-side Javascript framework
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">field</td><td>Name for the input field. This defines the HTML element name and provides the source of the initial value to display. The field should be a property of the form current record. If this call is used without a form control record, the actual data value should be supplied via the options.value property.</td>
    <tr><td class="param">options</td><td>These are in JSON string form and are converted to attributes to pass to the input element <ul><li>noescape Boolean Do not HTML escape the text before rendering. </li><li>... Other options are converted and rendered as HTML attributes.</li></ul></td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga93fc43b556cd29f99195a236b3c4f2c6"></a>
<div class="api">
  <div class="prototype">
    void
    inputSecurityToken
(void )
  </div>
  <div class="apiDetail">
<p>Render an input field with a hidden XSRF security token.</p>
    <dl><dt><b>Description</b>:</dt><dd>Security tokens are used to help guard against CSRF threats. This call will generate a hidden input field that includes the CSRF security token for the form. This call should not be included in SPA client applications as the SPA framework should automatically handle the security token.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga38c15bc6da6061193e4ece0be7222b3a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    isAuthenticated
(void )
  </div>
  <div class="apiDetail">
<p>Test if the user is authenticated.</p>
    <dl><dt>Returns:</dt><dd>True if the username and password have been authenticated.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gae9563514d2bce554b8fb7e74144ceb4a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    isEof
(void )
  </div>
  <div class="apiDetail">
<p>Test if the receive input stream is at end-of-file.</p>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if there is no more receive data to read.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga76ec4206bd2235bfc5d7ae3189fe9fd6"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    isFinalized
(void )
  </div>
  <div class="apiDetail">
<p>Test if a http request is finalized.</p>
    <dl><dt><b>Description</b>:</dt><dd>This tests if <a class="ref" href="#group___esp_req_1gafa8c60c6ae199dd31fa92c4dbbaa7c2d">espFinalize</a> or <a class="ref" href="#group___http_tx_1ga1a328a25ac329fd5cfc9e1ab033b10db" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpFinalize</a> has been called for a request.</dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if the request has been finalized.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gae69c795a239fe68b0f60b36c8cc546ea"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    isSecure
(void )
  </div>
  <div class="apiDetail">
<p>Test if the stream is using SSL and is secure.</p>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if the stream is using SSL.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gae478be50b70b65cbc43e79a2f7e87ad3"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#struct_mpr_hash" class="ref">MprHash</a> *
    makeHash
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Make a hash table container of property values.</p>
    <dl><dt><b>Description</b>:</dt><dd>This routine formats the given arguments, parses the result as a JSON string and returns an equivalent hash of property values. The result after formatting should be of the form: hash(&quot;{ key: &apos;value&apos;, key2: &apos;value&apos;, key3: &apos;value&apos; }&quot;);.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">fmt</td><td>Printf style format string.</td>
    <tr><td class="param">...</td><td>arguments.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga3e4e27c82fe15a0e658412b26747e0d4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *
    makeJson
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Make a JSON object container of property values.</p>
    <dl><dt><b>Description</b>:</dt><dd>This routine formats the given arguments, parses the result into a JSON object.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">fmt</td><td>Printf style format string.</td>
    <tr><td class="param">...</td><td>arguments.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MprJson instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga0292bb1e6965cb8befad09d4ce7a2839"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    makeRec
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *content)
  </div>
  <div class="apiDetail">
<p>Make a free-standing record.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call makes a free-standing data record based on the JSON format content string. The record is not saved to the database.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">content</td><td>JSON format content string. The content should be a set of property names and values.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>An EdiRec instance.</dd></dl>
    <dl><dt><b>Example</b>:</dt><dd>: rec = ediMakeRec(&quot;{ id: 1, title: &apos;Message One&apos;, body: &apos;Line one&apos; }&quot;);.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga1d0fda1c77c88bd3b74df6572365b1f3"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    md5
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *str)
  </div>
  <div class="apiDetail">
<p>Get an MD5 checksum.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">str</td><td>String to hash.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>An allocated MD5 checksum string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga9514f98ecae65f2654ad8a42c9549b62"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    modeIs
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *check)
  </div>
  <div class="apiDetail">
<p>Test the the application mode.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is typically set to &quot;debug&quot; or &quot;release&quot;. The mode is defined by the &quot;profile&quot; property in the pak.json.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">check</td><td>Mode to compare with the current application mode.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the current app mode matches the check mode.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga051c9777e0134ff070467a02e38466a8"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    nonce
(void )
  </div>
  <div class="apiDetail">
<p>Generate a onetime random string.</p>
    <dl><dt>Returns:</dt><dd>An MD5 encoded random string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gad638c34898123293ebc120c1f9396a9c"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    param
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Get a request parameter.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named request parameter. Request parameters are defined via www-urlencoded query or post data contained in the request. This routine calls <a class="ref" href="#group___esp_req_1ga4cbe8eba43dbb755ee5e383c2834c225">espGetParam</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Name of the request parameter to retrieve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing the request parameter&apos;s value. Caller should not free. Returns NULL if the parameter is not defined.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga55013b75f2ed92726f73e4c4137cbf9f"></a>
<div class="api">
  <div class="prototype">
    int
    paramInt
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Get an integer request parameter.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named request parameter. Request parameters are defined via www-urlencoded query or post data contained in the request. This routine calls <a class="ref" href="#group___esp_req_1ga4cbe8eba43dbb755ee5e383c2834c225">espGetParam</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Name of the request parameter to retrieve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Integer containing the request parameter&apos;s value. Returns zero if not found.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga13931995115dd8d7c7725afe54c6a1ba"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *
    params
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var)
  </div>
  <div class="apiDetail">
<p>Get a collection of request parameters.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call gets request parameters for a given variable root. Route tokens, request query data, and www-url encoded form data are all entered into the request parameters.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">var</td><td>Root property of the params collection. Set to NULL for the root collection.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MprJson instance containing the request parameters.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaebd6eb20a67d36dca94880e1545dfe1b"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    readRec
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)
  </div>
  <div class="apiDetail">
<p>Read a record identified by key value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Read a record from the given table as identified by the key value. The record is remembered for this request as the &quot;current&quot; record and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga91bd4d1b15a77af02ec9a636299ab026">getRec()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">key</td><td>Key value of the record to read.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Record instance of EdiRec.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga191e1bf0423a9cf77e85b613efc28bee"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    readTable
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName)
  </div>
  <div class="apiDetail">
<p>Read all the records in table from the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>This reads a table and returns a grid containing the table data. The grid of records is remembered for this request as the &quot;current&quot; grid and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga3e38d508316931b7ae336e76e0bdb8a8">getGrid()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A grid containing all table rows. Returns NULL if the table cannot be found.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadbe316e24230e57a77270272a74c9f45"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    readWhere
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *operation, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Read matching records.</p>
    <dl><dt><b>Description</b>:</dt><dd>This runs a simple query on the database and returns matching records in a grid. The query selects all rows that have a &quot;field&quot; that matches the given &quot;value&quot;. The grid of records is remembered for this request as the &quot;current&quot; grid and can be retrieved via: <a class="ref" href="#group___esp_abbrev_1ga3e38d508316931b7ae336e76e0bdb8a8">getGrid()</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">fieldName</td><td>Database field name to evaluate.</td>
    <tr><td class="param">operation</td><td>Comparison operation. Set to &quot;==&quot;, &quot;!=&quot;, &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot; or &quot;&gt;=&quot;.</td>
    <tr><td class="param">value</td><td>Data value to compare with the field values.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A grid containing all matching records. Returns NULL if no matching records.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga3a7af8bca824b7941d058eeb598194ca"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    receive
(char *buf, <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a> size)
  </div>
  <div class="apiDetail">
<p>Read receive body content.</p>
    <dl><dt><b>Description</b>:</dt><dd>Read body content from the client. This will not block by default. Use httpReadBlock for more options to read data.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">buf</td><td>Buffer to accept content data.</td>
    <tr><td class="param">size</td><td>Size of the buffer.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of bytes read into the buffer.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga79cf206805a9595395af14e7c35f289d"></a>
<div class="api">
  <div class="prototype">
    void
    redirect
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)
  </div>
  <div class="apiDetail">
<p>Redirect the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Redirect the client to a new uri. This will redirect with an HTTP 302 status. If a different HTTP status code is required, use <a class="ref" href="#group___esp_req_1gad40cb0d52cde0cfa28a6040c5bc035e3">espRedirect</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">target</td><td>New target uri for the client.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga5ac5ea8fa8f059beb45ada13785117bf"></a>
<div class="api">
  <div class="prototype">
    void
    redirectBack
(void )
  </div>
  <div class="apiDetail">
<p>Redirect the client back to the referrer.</p>
    <dl><dt><b>Description</b>:</dt><dd>Redirect the client to the referring URI.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga1a0cf9222507a1e1472cf53856bebb2c"></a>
<div class="api">
  <div class="prototype">
    void
    removeCookie
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Remove a cookie.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Cookie name.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga09091b0bc981b74fdf0b197fbee8adab"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    removeRec
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)
  </div>
  <div class="apiDetail">
<p>Remove a record from a database table.</p>
    <dl><dt><b>Description</b>:</dt><dd>Remove the record identified by the key value from the given table. If the removal succeeds, the feedback message {inform: &quot;Deleted Record&quot;} will be created. If the removal fails, a feedback message {error: &quot;Cannot delete Record&quot;} will be created.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">key</td><td>Record key value.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the removal succeeds, otherwise false.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga7a4f867b83fd68a2f888fe2850572d6e"></a>
<div class="api">
  <div class="prototype">
    void
    removeSessionVar
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Remove a session state variable.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Variable name to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaf89154adc3cbf6d6a6a32c6b4457c593"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    render
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Render a formatted string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a formatted string of data into packets to the client. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">fmt</td><td>Printf style formatted string.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga9f033233a59a6e976d92be561cfbe7e2"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    renderCached
(void )
  </div>
  <div class="apiDetail">
<p>Render cached content.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render the saved, cached response from a prior request to this URI. This is useful if the caching mode has been set to &quot;manual&quot;.</dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga2353b590d91fb2f98b77a8efd4ee8f36"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    renderConfig
(void )
  </div>
  <div class="apiDetail">
<p>Render the pak.json.</p>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga5c6a2717cd75e9e0069b206507e5207e"></a>
<div class="api">
  <div class="prototype">
    void
    renderError
(int status, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Render an error message back to the client and finalize the request.</p>
The output is Html escaped for security
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">status</td><td>Http status code.</td>
    <tr><td class="param">fmt</td><td>Printf style message format.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gacf71df9dabcd97ec88211ef4561c5033"></a>
<div class="api">
  <div class="prototype">
    void
    renderFeedback
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *types)
  </div>
  <div class="apiDetail">
<p>Render feedback messages.</p>
    <dl><dt><b>Description</b>:</dt><dd>Feedback notices are one-time messages that are passed to the next request (only). See <a class="ref" href="#group___esp_req_1ga771dab7992d00940e83a27d47c4fbeec">espSetFeedback</a> and <a class="ref" href="#group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a">feedback</a> for how to define feedback messages. This API will render feedback messages as HTML in place of the renderFeedback call in ESP page.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">types</td><td>Types of feedback message to retrieve. Set to &quot;*&quot; to retrieve all types of feedback. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaa1e37f244a0e0796df494dfb756472a8"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    renderFile
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)
  </div>
  <div class="apiDetail">
<p>Render a file back to the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a formatted string of data and then HTML escape. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">path</td><td>Filename of the file to send to the client.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga40445cbba9d5b3a5baec51e59e3d6340"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    renderSafe
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Render a formatted string after HTML escaping.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a formatted string of data and then HTML escape. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">fmt</td><td>Printf style formatted string.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaaafafb9657167c8093d9015733dd15e2"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    renderString
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *s)
  </div>
  <div class="apiDetail">
<p>Render a string of data to the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a string of data to the client. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">s</td><td>String containing the data to write.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga688f12fa155a796f2f35f33cc52d5abb"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    renderVar
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Render the value of a request variable to the client.</p>
If a request parameter is not found by the given name, consult the session store for a variable the same name
    <dl><dt><b>Description</b>:</dt><dd>This writes the value of a request variable after HTML escaping its value.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Request parameter variable name.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaf0db430f850378bd83c514a0dda77fb9"></a>
<div class="api">
  <div class="prototype">
    void
    renderView
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *view)
  </div>
  <div class="apiDetail">
<p>Render an ESP page to the client.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">view</td><td>View name. The view name is interpreted relative to the matching route documents directory and may omit an ESP extension.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga1d226bb7d309a4586b862d409f53ab9f"></a>
<div class="api">
  <div class="prototype">
    int
    runCmd
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *command, char *input, char **output, char **error, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> timeout, int flags)
  </div>
  <div class="apiDetail">
<p>Run a command.</p>
    <dl><dt><b>Description</b>:</dt><dd>Run a command and return output.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">command</td><td>Command line and arguments to run.</td>
    <tr><td class="param">input</td><td>Input data to pass to the command. Set to null if not required.</td>
    <tr><td class="param">output</td><td>Pointer to accept command standard output response. Set to null if not required.</td>
    <tr><td class="param">error</td><td>Pointer to accept command standard error response. Set to null if not required.</td>
    <tr><td class="param">flags</td><td>MprCmd flags. Use MPR_CMD_DETACH to run in the background.</td>
    <tr><td class="param">timeout</td><td>Time in milliseconds to wait for the command to complete and exit.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gac543bc47fde0b8a6fc995a6eb66ad080"></a>
<div class="api">
  <div class="prototype">
    void
    securityToken
(void )
  </div>
  <div class="apiDetail">
<p>Add the security token to the response.</p>
    <dl><dt><b>Description</b>:</dt><dd>To minimize form replay attacks, a security token may be required for POST requests on a route. This call will set a security token in the response as a response header and as a response cookie. Client-side Javascript must then send this token as a request header in subsquent POST requests. To configure a route to require security tokens, call <a class="ref" href="#group___http_route_1ga4b4feabc71a3ad15f2b9d33722a2340b" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpSetRouteXsrf</a></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga45c8bf65c9eacac2512533dbc006db2b"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    session
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Get a session state variable.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenient alias for <a class="ref" href="#group___esp_abbrev_1ga241f0cd4f5d49f8a137f1024415b2674">getSessionVar</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Variable name to get.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The session variable value. Returns NULL if not set.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gafe8d897ff436eabc6fc275f76222a5c3"></a>
<div class="api">
  <div class="prototype">
    void
    setContentType
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *mimeType)
  </div>
  <div class="apiDetail">
<p>Set the transmission (response) content mime type.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the mime type Http header in the transmission.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">mimeType</td><td>Mime type string.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaea6086cd23b087b13921a4028940792c"></a>
<div class="api">
  <div class="prototype">
    void
    setCookie
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *domain, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> lifespan, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> isSecure)
  </div>
  <div class="apiDetail">
<p>Define a cookie header to send with the response.</p>
The Path, Domain, and Expires properties can be set to null for default values
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Cookie name.</td>
    <tr><td class="param">value</td><td>Cookie value.</td>
    <tr><td class="param">path</td><td>Uri path to which the cookie applies.</td>
    <tr><td class="param">domain</td><td>String Domain in which the cookie applies. Must have 2-3 &quot;.&quot; and begin with a leading &quot;.&quot;. For example: domain: .example.com Some browsers will accept cookies without the initial &quot;.&quot;, but the spec: (RFC 2109) requires it.</td>
    <tr><td class="param">lifespan</td><td>Lifespan of the cookie in seconds.</td>
    <tr><td class="param">isSecure</td><td>Boolean Set to &quot;true&quot; if the cookie only applies for SSL based connections.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga0e9f5142b6aa4d7c3695ef62a9e348b3"></a>
<div class="api">
  <div class="prototype">
    void
    setData
(void *data)
  </div>
  <div class="apiDetail">
<p>Set a private data reference for the current request.</p>
    <dl><dt>Returns:</dt><dd>Reference to private data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga6c39fec614ae333bcc5448930ab2dc8d"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    setField
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Update a record field without writing to the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>This routine updates the record object with the given value. The record will not be written to the database. To write to the database, use <a class="ref" href="#group___esp_abbrev_1gaac69d2eab0ce7dfea56ac4714d0e6e55">updateRec</a></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">rec</td><td>Record to update.</td>
    <tr><td class="param">fieldName</td><td>Record field name to update.</td>
    <tr><td class="param">value</td><td>Value to update.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The record instance if successful, otherwise NULL.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaaabf240c427f1f246fadc85535525401"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    setFields
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *data)
  </div>
  <div class="apiDetail">
<p>Update record fields without writing to the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>This routine updates the record object with the given values. The &quot;data&apos; argument supplies
    a hash of fieldNames and values. The &quot;data&apos; argument supplies the fieldNames and values as a JSON object. The data may come from the request <a class="ref" href="#group___esp_abbrev_1ga13931995115dd8d7c7725afe54c6a1ba">params</a> or it can be manually created via makeJson to convert a JSON string into an options hash. For example: ediWriteFields(rec, params()); The record runs field validations before saving to the database.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">rec</td><td>Record to update.</td>
    <tr><td class="param">data</td><td>Json object of field data.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The record instance if successful, otherwise NULL.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaeed08cdbf64becc6ea822e9208831f63"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    setGrid
(<a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)
  </div>
  <div class="apiDetail">
<p>Set the current database grid reference.</p>
    <dl><dt><b>Description</b>:</dt><dd>This sets the current database which is used by many APIs that operate on the current grid.</dd></dl>
    <dl><dt>Returns:</dt><dd>The grid instance. This permits chaining.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaf4cbdf3eef410884ed0928066d0503f2"></a>
<div class="api">
  <div class="prototype">
    void
    setHeader
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Set a transmission header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set a Http header to send with the request. If the header already exists, its value is overwritten.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the header key value.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga7d227ab7fdc91d90a4484550ea9482b8"></a>
<div class="api">
  <div class="prototype">
    void
    setNotifier
(<a href="edi.html#http.html#group___http_stream_1gad583143fc934fa15f237b74102c31c4a" class="ref">HttpNotifier</a> notifier)
  </div>
  <div class="apiDetail">
<p>Set a notifier callback for the stream.</p>
This wraps the streamNotifier and calls espSetStream before invoking the notifier for stream events
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">notifier</td><td>Callback function.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga65fe2a97ffad029e6229e4e2dd290dd5"></a>
<div class="api">
  <div class="prototype">
    void
    setParam
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Set a request parameter value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the value of a named request parameter to a string value. Parameters are defined via requeset POST data or request URI queries. This API permits these initial request parameters to be set or modified.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Name of the request parameter to set.</td>
    <tr><td class="param">value</td><td>Value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga3fb6e8cbd912ffb1c5ba2356b418e7d2"></a>
<div class="api">
  <div class="prototype">
    void
    setParamInt
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, int value)
  </div>
  <div class="apiDetail">
<p>Set an integer request parameter value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the value of a named request parameter to an integer value. Request parameters are defined via www-urlencoded query or post data contained in the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Name of the request parameter to set.</td>
    <tr><td class="param">value</td><td>Integer value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gafef8aa52aab6f3d8a3eebfe7eeb0edf4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    setRec
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Set the current database record.</p>
    <dl><dt><b>Description</b>:</dt><dd>The current record is used to supply data to various abbreviated controls, such as: text(), <a class="ref" href="#group___esp_abbrev_1gaa3f886ac8ecb0b4f2f6decb1da1f5c82">input()</a>, checkbox and dropdown().</dd></dl>
    <dl><dt>Returns:</dt><dd>The grid instance. This permits chaining.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gadb4f7bc3020ab9c481f1ebcaf1ed3f2a"></a>
<div class="api">
  <div class="prototype">
    void
    setSessionVar
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Set a session state variable.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">name</td><td>Variable name to set.</td>
    <tr><td class="param">value</td><td>Value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga63470999d986c7d2d064dc44cdc2fcac"></a>
<div class="api">
  <div class="prototype">
    void
    setStatus
(int status)
  </div>
  <div class="apiDetail">
<p>Set a Http response status.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the Http response status for the request. This defaults to 200 (OK).</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">status</td><td>Http status code.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga1487b30d79697bba676f039a03ff744b"></a>
<div class="api">
  <div class="prototype">
    void
    setStream
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Set the current request stream.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>The HttpStream stream object to define.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga07243a4b521119ce41362163afb45032"></a>
<div class="api">
  <div class="prototype">
    void
    setTimeout
(void *proc, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> timeout, void *data)
  </div>
  <div class="apiDetail">
<p>Create a timeout event.</p>
    <dl><dt><b>Description</b>:</dt><dd>Invoke the given procedure after the timeout.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">proc</td><td>Function to invoke.</td>
    <tr><td class="param">timeout</td><td>Time in milliseconds to elapse before invoking the timeout.</td>
    <tr><td class="param">data</td><td>Argument to pass to proc.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga0207a5efd3abae696bbe759f5f453c0f"></a>
<div class="api">
  <div class="prototype">
    void
    showRequest
(void )
  </div>
  <div class="apiDetail">
<p>Show request details.</p>
    <dl><dt><b>Description</b>:</dt><dd>This echoes request details back to the client. This is useful as a debugging tool.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga71ab6f699454ab16232f98c28a47935c"></a>
<div class="api">
  <div class="prototype">
    void
    updateCache
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *uri, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *data, int lifesecs)
  </div>
  <div class="apiDetail">
<p>Update the cached content for a request.</p>
    <dl><dt><b>Description</b>:</dt><dd>Save the given content for future requests. This is useful if the caching mode has been set to &quot;manual&quot;.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">uri</td><td>Request URI to cache for.</td>
    <tr><td class="param">data</td><td>Data to cache.</td>
    <tr><td class="param">lifesecs</td><td>Time in seconds to cache the data.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga8aef62e678a3e5602d8dd4b2b85db394"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    updateField
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fieldName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Write a value to a database table field.</p>
    <dl><dt><b>Description</b>:</dt><dd>Update the value of a table field in the selected table row. Note: validations are not run.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">key</td><td>Key value for the table row to update.</td>
    <tr><td class="param">fieldName</td><td>Column name to update.</td>
    <tr><td class="param">value</td><td>Value to write to the database field.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if the field can be successfully written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga4a1259d2b9cb98ecba45266954ee31e4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    updateFields
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName, <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *data)
  </div>
  <div class="apiDetail">
<p>Write field values to a database row.</p>
    <dl><dt><b>Description</b>:</dt><dd>This routine updates the current record with the given data. The "data&apos; argument supplies the fieldNames and values as a JSON object. The data may come from the request <a class="ref" href="#group___esp_abbrev_1ga13931995115dd8d7c7725afe54c6a1ba">params</a> or it can be manually created via makeJson to convert a JSON string into an options hash. For example: ediWriteFields(rec, params());.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">tableName</td><td>Database table name.</td>
    <tr><td class="param">data</td><td>Json object of fields to update.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if the field can be successfully written. Returns false if field validations fail.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1gaac69d2eab0ce7dfea56ac4714d0e6e55"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    updateRec
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Save a record to the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>The record will be saved to the database after running any field validations. If any field validations fail to pass, the record will not be written and error details can be retrieved via <a class="ref" href="#group___edi_1ga653dfa35de74e1c3049b3ba9191215e0" external="/Users/mob/dev/esp/doc/api/edi.dtags">ediGetRecErrors</a>. If the record is a new record and the &quot;id&quot; column is EDI_AUTO_INC, then the &quot;id&quot; will be assigned prior to saving the record. If the update succeeds, the feedback message {inform: &quot;Saved Record&quot;} will be created. If the update fails, a feedback message {error: &quot;Cannot save Record&quot;} will be created.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">rec</td><td>Record to write to the database.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if the record can be successfully written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga991073350c22cfb5830a5d18da91ffb5"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    updateRecFromParams
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *table)
  </div>
  <div class="apiDetail">
<p>Update a record from the request parameters.</p>
    <dl><dt><b>Description</b>:</dt><dd>The record identified by the params(id) is read and updated with the request parameters.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">table</td><td>Database table to update.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the update is successful.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<a name="group___esp_abbrev_1ga78e593db4bd2c434476b90c5b99a17ca"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    uri
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target, ...)
  </div>
  <div class="apiDetail">
<p>Create a URI link.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a URI link based on a given target an expanding embedded tokens based on the current request and route state. The target URI parameter may contain partial or complete URI information. The missing parts are supplied using the current request and route tables.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">target</td><td>The URI target. The target parameter can be a URI string or JSON style set of options. The target will have any embedded &quot;{tokens}&quot; expanded by using token values from the request parameters. If the target has an absolute URI path, that path is used directly after tokenization. If the target begins with &quot;~&quot;, that character will be replaced with the route prefix. This is a very convenient way to create application top-level relative links. <br/>
 If the target is a string that begins with &quot;{AT}&quot; it will be interpreted as a service/action pair of the form &quot;{AT}Service/action&quot;. If the &quot;service/&quot; portion is absent, the current service is used. If the action component is missing, the &quot;list&quot; action is used. A bare &quot;{AT}&quot; refers to the &quot;list&quot; action of the current service. <br/>
 If the target starts with &quot;{&quot; it is interpreted as being a JSON style set of options that describe the link. If the target is a relative URI path, it is appended to the current request URI path. <br/><br/>
 If the is a JSON style of options, it can specify the URI components: scheme, host, port, path, reference and query. If these component properties are supplied, these will be combined to create a URI. <br/><br/>
 If the target specifies either a service/action or a JSON set of options, The URI will be created according to the route URI template. The template may be explicitly specified via a &quot;route&quot; target property. Otherwise, if an &quot;action&quot; property is specified, the route of the same name will be used. If these don&apos;t result in a usable route, the &quot;default&quot; route will be used. <br/><br/>
 These are the properties supported in a JSON style &quot;{ ... }&quot; target: <ul><li>scheme String URI scheme portion </li><li>host String URI host portion </li><li>port Number URI port number </li><li>path String URI path portion </li><li>reference String URI path reference. Does not include &quot;#&quot; </li><li>query String URI query parameters. Does not include &quot;?&quot; </li><li>service String Service name if using a Service-based route. This can also be specified via the action option. </li><li>action String Action to invoke. This can be a URI string or a Service action of the form {AT}Service/action. </li><li>route String Route name to use for the URI template </li></ul></td>
    <tr><td class="param">...</td><td>arguments to the formatted target string.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A normalized Uri string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt><b>Examples</b>:</dt><dd>: <pre>
uri(&quot;http://example.com/index.html&quot;);
uri(&quot;/path/to/index.html&quot;);
uri(&quot;../images/splash.png&quot;);
uri(&quot;~/static/images/splash.png&quot;);
uri(&quot;${app}/static/images/splash.png&quot;);
uri(&quot;@service/checkout&quot;);
uri(&quot;@service/&quot;)               //  Service = Service, action = index
uri(&quot;@init&quot;)                   //  Current service, action = init
uri(&quot;@&quot;)                       //  Current service, action = index
uri(&quot;{ action: &apos;@post/create&apos; }&quot;);
uri(&quot;{ action: &apos;checkout&apos; }&quot;);
uri(&quot;{ action: &apos;logout&apos;, service: &apos;admin&apos; }&quot;);
uri(&quot;{ action: &apos;admin/logout&apos;&quot;);
uri(&quot;{ product: &apos;candy&apos;, quantity: &apos;10&apos;, template: &apos;/cart/${product}/${quantity}&apos; }&quot;);
uri(&quot;{ route: &apos;~/STAR/edit&apos;, action: &apos;checkout&apos;, id: &apos;99&apos; }&quot;);
uri(&quot;{ template: &apos;~/static/images/${theme}/background.jpg&apos;, theme: &apos;blue&apos; }&quot;);
</pre></dd></dl>
    <dl><dt>See Also:</dt><dd>
    </dd></dl>
  </div>
</div>
<h1>EspParse</h1>
<a name="group___esp_parse"></a>
<div class="api">
  <div class="prototype">EspParse</div>
  <div class="apiDetail">
<p>ESP page parser structure.</p>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<h1>EspReq</h1>
<a name="group___esp_req"></a>
<div class="api">
  <div class="prototype">EspReq</div>
  <div class="apiDetail">
<p>ESP request structure.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Internal.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">int</td><td><td>autoFinalize</td><td>
Request is or will be auto-finalized.
</td>
    <tr><td class="param">cchar *</td><td><td>commandLine</td><td>
Command line for compile/link.
</td>
    <tr><td class="param">void *</td><td><td>data</td><td>
Custom data for request (managed).
</td>
    <tr><td class="param">Edi *</td><td><td>edi</td><td>
Database for this request.
</td>
    <tr><td class="param"><a class="ref" href="#struct_esp">Esp</a> *</td><td><td>esp</td><td>
Convenient esp reference.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>feedback</td><td>
Feedback messages.
</td>
    <tr><td class="param">int</td><td><td>lastDomID</td><td>
Last generated DOM ID.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>lastFeedback</td><td>
Feedback messages from the last request.
</td>
    <tr><td class="param"><a class="ref" href="#group___http_stream_1gad583143fc934fa15f237b74102c31c4a" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">HttpNotifier</a></td><td><td>notifier</td><td>
Http state change notification callback.
</td>
    <tr><td class="param">HttpRoute *</td><td><td>route</td><td>
Route reference.
</td>
    <tr><td class="param">int</td><td><td>sessionProbed</td><td>
Already probed for session store.
</td>
    <tr><td class="param">void *</td><td><td>staticData</td><td>
Custom data for request (unmanaged).
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga4f8a144e4388122909991a0402b92550"></a>
<div class="api">
  <div class="prototype">
    void
    espAddHeader
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Add a header to the transmission using a format string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Add a header if it does not already exist.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the header key value.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code. Returns MPR_ERR_ALREADY_EXISTS if the header already exists.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga98fdeb62e229b97f5fe8049298d5c7fc"></a>
<div class="api">
  <div class="prototype">
    void
    espAddHeaderString
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Add a header to the transmission.</p>
    <dl><dt><b>Description</b>:</dt><dd>Add a header if it does not already exist.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">value</td><td>Value to set for the header.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code. Returns MPR_ERR_ALREADY_EXISTS if the header already exists.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga3824ffbe5db5e46d872aeb0adfdbaf65"></a>
<div class="api">
  <div class="prototype">
    void
    espAddParam
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Add a request parameter value if it is not already defined.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to set.</td>
    <tr><td class="param">value</td><td>Value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga3a999dbd5209ab0507ec697bb452eba9"></a>
<div class="api">
  <div class="prototype">
    void
    espAppendHeader
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Append a transmission header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the header if it does not already exist. Append with a &quot;, &quot; separator if the header already exists.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the header key value.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gadc294b278fde028e375f3a43e8da4ffc"></a>
<div class="api">
  <div class="prototype">
    void
    espAppendHeaderString
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Append a transmission header string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the header if it does not already exist. Append with a &quot;, &quot; separator if the header already exists.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">value</td><td>Value to set for the header.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga343d565150be797bbcfbf67a3ef98bb5"></a>
<div class="api">
  <div class="prototype">
    void
    espAutoFinalize
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Auto-finalize transmission of the http request.</p>
    <dl><dt><b>Description</b>:</dt><dd>If auto-finalization is enabled via <a class="ref" href="#group___esp_req_1gade4f16e9df197e729243386fb4adf9b5">espSetAutoFinalizing</a>, this call will finalize writing Http response data by writing the final chunk trailer if required. If using chunked transfers, a null chunk trailer is required to signify the end of write data. If the request is already finalized, this call does nothing.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gadeac99cba2f4655c6ae0e8c108646e90"></a>
<div class="api">
  <div class="prototype">
    void
    espClearCurrentSession
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Clear the current authenticated session.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga133ce6a404cb05682846cbe3f478b7da"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espCreateSession
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Create a session state object.</p>
    <dl><dt><b>Description</b>:</dt><dd>The session state object can be used to share state between requests. If a session has not already been created, this call will create a new session. It will create a response cookie containing a session ID that will be sent to the client with the response. Note: Objects are stored in the session state using JSON serialization.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Session ID string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga49dfd97fc85a367ccf7d146454b52cbc"></a>
<div class="api">
  <div class="prototype">
    void
    espDestroySession
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Destroy a session state object.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will destroy the server-side session state and emit an expired cookie to the client to force it to erase the session cookie.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gafa8c60c6ae199dd31fa92c4dbbaa7c2d"></a>
<div class="api">
  <div class="prototype">
    void
    espFinalize
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Indicate the request is finalized.</p>
    <dl><dt><b>Description</b>:</dt><dd>Calling this routine indicates that the handler has fully finished processing the request including processing all input, generating a full response and any other required processing. This call will invoke <a class="ref" href="#group___http_tx_1ga848477a87a2c69d2785d8573019a2802" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpFinalizeOutput</a> and then set the request finalized flag. If the request is already finalized, this call does nothing. A handler MUST call httpFinalize when it has completed processing a request. As background: there are three finalize concepts: HttpTx.finalizedOutput means the handler has generated all the response output but it may not yet be fully transmited through the pipeline and to the network by the connector. HttpTx.finalizedConnector means the connector has sent all the output to the network. HttpTx.finalized means the application has fully processed the request including reading all the input data it wishes to read and has generated all the output that will be generated. A fully finalized request has both HttpTx.finalized and HttpTx.finalizedConnector true.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga117d4806f7e97f74d2803065bb7f69f3"></a>
<div class="api">
  <div class="prototype">
    void
    espFlush
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Flush transmit data.</p>
    <dl><dt><b>Description</b>:</dt><dd>This writes any buffered data and initiates writing to the peer. This will not block.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga48e9736ae0f7cecdb695a4db5f343647"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#http.html#group___http_auth" class="ref">HttpAuth</a> *
    espGetAuth
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the current route HttpAuth object.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The HttpAuth object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga8428a4283b20243796432100eba44e58"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#mpr_8h_1a87e9f435008723c7b1489af1944c6e20" class="ref">MprOff</a>
    espGetContentLength
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the receive body content length.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the length of the receive body content (if any). This is used in servers to get the length of posted data and, in clients, to get the response body length.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the response content data in bytes.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gada38f3320f81f64a5e3250db87eae7c4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetContentType
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the receive body content type.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the content mime type of the receive body content (if any).</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Mime type of any receive content. Set to NULL if not posted data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga58fe058c2f98531f1e887d0517ca9fb2"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetCookie
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Get a request cookie.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the cookie for the given name.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">name</td><td>Cookie name to retrieve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The cookie value Return null if the cookie is not defined.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga62702b72ab28805a10e91b950068cdd8"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetCookies
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the request cookies.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the cookies defined in the current request. This returns the HTTP cookies header with all cookies in one string.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Return a string containing the cookies sent in the Http header of the last request.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga10da3225d0d7f71c043431e25352d80e"></a>
<div class="api">
  <div class="prototype">
    void *
    espGetData
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the private data reference for the current request set via <a class="ref" href="#group___esp_abbrev_1ga0e9f5142b6aa4d7c3695ef62a9e348b3">setData</a></p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Reference to private data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga19f1a34c4dbdd8ba13d9f1b99f8a0087"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi" class="ref">Edi</a> *
    espGetDatabase
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the current database instance.</p>
    <dl><dt><b>Description</b>:</dt><dd>A route may have a default database configured via the EspDb Appweb.conf configuration directive. The database will be opened when the web server initializes and will be shared between all requests using the route.</dd></dl>
    <dl><dt>Returns:</dt><dd>Edi EDI database handle.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaba7484ddb4b23310c96f3edd0ba175bb"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetDocuments
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the default documents directory for the request route.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A directory path name.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga99b7cd967b2ce48dc76b44127f974143"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___esp_route" class="ref">EspRoute</a> *
    espGetEspRoute
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the current extended route information.</p>
    <dl><dt>Returns:</dt><dd>EspRoute instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gab8ed249d83c30f6f8271dae1bb5113d4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetFeedback
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type)
  </div>
  <div class="apiDetail">
<p>Get a feedback message defined via <a class="ref" href="#group___esp_abbrev_1gac782d72d3f7c11dce5c48befaff8ac0a">feedback</a></p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream object.</td>
    <tr><td class="param">type</td><td>type of feedback message to retrieve. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Reference to the feedback message.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga13b7685ae21d2ca2d17841c3aaf7844a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    espGetGrid
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the current database grid reference.</p>
    <dl><dt><b>Description</b>:</dt><dd>The current grid is defined via <a class="ref" href="#group___esp_abbrev_1gaeed08cdbf64becc6ea822e9208831f63">setGrid</a></dd></dl>
    <dl><dt>Returns:</dt><dd>EdiGrid instance.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga1b44acef67c3b77b5d971dae568f04c9"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetHeader
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)
  </div>
  <div class="apiDetail">
<p>Get an rx http header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get a http response header for a given header key.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Name of the header to retrieve. This should be a lower case header name. For example: &quot;Connection&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Value associated with the header key or null if the key did not exist in the response.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga6933802a04a50e59f7c603357e5259cd"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#struct_mpr_hash" class="ref">MprHash</a> *
    espGetHeaderHash
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the hash table of rx Http headers.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the internal hash table of rx headers.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Hash table. See <a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> for how to access the hash table.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaa9c7f9f80957d3381e8f3c5186923da7"></a>
<div class="api">
  <div class="prototype">
    char *
    espGetHeaders
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get all the request http headers.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get all the rx headers. The returned string formats all the headers in the form: key: value\nkey2: value2\n.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing all the headers. The caller must free this returned string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga8c516f5c15f5610e38c7a2c8f37f28cc"></a>
<div class="api">
  <div class="prototype">
    int
    espGetIntParam
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, int defaultValue)
  </div>
  <div class="apiDetail">
<p>Get a request pararmeter as an integer.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named request parameter. Request parameters are defined via www-urlencoded query, post data contained in the request and route parameters. Request parameters are stored as JSON tree objects and may contain nested properties.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to retrieve.</td>
    <tr><td class="param">defaultValue</td><td>Default value to return if the variable is not defined. Can be null.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Integer containing the request parameter&apos;s value.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gac7b85335ce670c20417ca85abc2a7cbc"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetMethod
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the HTTP method.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the Http method.</dd></dl>
    <dl><dt>Returns:</dt><dd>The HttpStream.rx.method property.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga4cbe8eba43dbb755ee5e383c2834c225"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetParam
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *defaultValue)
  </div>
  <div class="apiDetail">
<p>Get a request parameter.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named request parameter. Request parameters are defined via www-urlencoded query, post data contained in the request and route parameters. Route parameters are stored as JSON tree objects and may contain nested properties.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to retrieve.</td>
    <tr><td class="param">defaultValue</td><td>Default value to return if the variable is not defined. Can be null.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing the request parameter&apos;s value. Caller should not free.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga8382335d9e26902afa136fcfa6b80061"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *
    espGetParamObj
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var)
  </div>
  <div class="apiDetail">
<p>Get a request pararmeter as a JSON object.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a named request parameter. Request parameters are defined via www-urlencoded query, post data contained in the request and route parameters. Request parameters are stored as JSON tree objects and may contain nested properties.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to retrieve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>JSON parameter object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaa4ae5df79b9c4d8321ecb2cd15d44d88"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_json" class="ref">MprJson</a> *
    espGetParams
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the request parameters.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call gets the request parameters for the current request.</dd></dl>
    <dl><dt><b>Description</b>:</dt><dd>Request parameters are defined via www-urlencoded query, post data contained in the request and route parameters. Request parameters are stored as JSON tree objects and may contain nested properties.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>MprJson instance containing the request parameters.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga38effdaea7a82a291a25429b27615ae5"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetPath
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the request URI path string.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the request URI path. This is the request URI path after removing query parameters. It does not include the application route prefix.</dd></dl>
    <dl><dt>Returns:</dt><dd>The <a class="ref" href="#group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803">espGetStream()</a>-&gt;rx-&gt;pathInfo.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaff49a2cdac7305eff44fd5b880af0375"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetQueryString
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the request URI query string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get URI query string sent with the current request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing the request query string. Caller should not free.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga245c96379910e75e222361c7da8bf7a7"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetReferrer
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the referring URI.</p>
    <dl><dt><b>Description</b>:</dt><dd>This returns the referring URI as described in the HTTP &quot;referer&quot; (yes the HTTP specification does spell it incorrectly) header. If this header is not defined, this routine will return the home URI as returned by uri(&quot;~&quot;).</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String URI back to the referring URI. If no referrer is defined, refers to the home URI.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga93d00311d73833d28cc1ae4ae4f96de7"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *
    espGetRoute
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the current route HttpRoute object.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The HttpRoute object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga72246c1dc89e871ec596ae0959077af2"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi" class="ref">Edi</a> *
    espGetRouteDatabase
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)
  </div>
  <div class="apiDetail">
<p>Get the default database defined on a route.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Database instance object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga76d41fbdcef5bb1e55bb0ce775f9b9c2"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetRouteVar
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var)
  </div>
  <div class="apiDetail">
<p>Get a route variable.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the value of a request route variable.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to retrieve.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>String containing the route variable value. Caller should not free.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga0b83d3dc52626e002247af6df4ef7d74"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetSessionID
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int create)
  </div>
  <div class="apiDetail">
<p>Get the session state ID.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will get the session and return the session ID. This will create a new session state storage area if create is true and one does not already exist. This can be used to test if the session state exists for this stream.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">create</td><td>Set to true to create a new session if one does not already exist.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The session state identifier string.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gac69ab5a3aefeb52ee610c97a782f5be8"></a>
<div class="api">
  <div class="prototype">
    int
    espGetStatus
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the response status.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>An integer Http response code. Typically 200 is success.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga59410743c09731439663be5f50e1d60b"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetStatusMessage
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the Http response status message.</p>
    <dl><dt><b>Description</b>:</dt><dd>The HTTP status message is supplied on the first line of the HTTP response.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A Http status message.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *
    espGetStream
(void )
  </div>
  <div class="apiDetail">
<p>Get the current request stream.</p>
    <dl><dt>Returns:</dt><dd>The HttpStream stream object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga72875560f986b06bc26f40a991dc8fbb"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList</a> *
    espGetUploads
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the uploaded files.</p>
    <dl><dt><b>Description</b>:</dt><dd>Get the list of uploaded files. This list entries are HttpUploadFile objects.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A list of HttpUploadFile objects.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gadfc219b6afc94969548fdef4d651ecee"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetUri
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Get the request URI string.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the request URI. This is the request URI after removing query parameters. It includes any application route prefix.</dd></dl>
    <dl><dt>Returns:</dt><dd>The <a class="ref" href="#group___esp_req_1ga0d76a638ff2cbc78cd318c79d85e6803">espGetStream()</a>-&gt;rx-&gt;uri.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gadb37c44514aa605a811280e2fdee9329"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espHasGrid
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if a current grid has been defined via <a class="ref" href="#group___esp_req_1gad7e02f7b23d165704a2440bb3c9423a1">espSetGrid</a></p>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if a current grid has been defined.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga1b26f1c2f8e1f78024f076464c1483dc"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espHasRec
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if a current record has been defined and save to the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call returns &quot;true&quot; if a current record is defined and has been saved to the database with a valid &quot;id&quot; field.</dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if a current record with a valid &quot;id&quot; is defined.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaba5e635fa31811599d1d3c156164f1bf"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espIsAuthenticated
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if the user is authenticated.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the username and password have been authenticated.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga87aa523e2a34d6c1db9355d16746ba83"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espIsCurrentSession
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if the request is being made on behalf of the current, single authenticated user.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set esp.login.single to true to enable current session tracking.</dd></dl>
    <dl><dt>Returns:</dt><dd>True if the.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga911251b3456386c09a53a33c2f063c07"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espIsEof
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if the receive input stream is at end-of-file.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if there is no more receive data to read.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga1a37202ca271308e8742ad69af29443b"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espIsFinalized
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if the request has been finalized.</p>
    <dl><dt><b>Description</b>:</dt><dd>This tests if <a class="ref" href="#group___esp_req_1gafa8c60c6ae199dd31fa92c4dbbaa7c2d">espFinalize</a> or <a class="ref" href="#group___http_tx_1ga1a328a25ac329fd5cfc9e1ab033b10db" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpFinalize</a> has been called for a request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if the request has been finalized.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaad694d30c39f736bfd07a4e89facd407"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espIsSecure
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Test if the stream is using SSL and is secure.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if the stream is using SSL.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga9de5abcd3d4052efaa3d3e410ebbf6c9"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espMatchParam
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Match a request parameter with an expected value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Compare a request parameter and return &quot;true&quot; if it exists and its value matches.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter.</td>
    <tr><td class="param">value</td><td>Expected value to match.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if the value matches.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaaf3880bbe3fffa1b95483b006f5075f6"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    espReadTable
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *tableName)
  </div>
  <div class="apiDetail">
<p>Read a table from the current database.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">tableName</td><td>Database table name.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>An EDI grid containing data for the table.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga855352588dacdb979a50caae379b736e"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espReceive
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, char *buf, <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a> size)
  </div>
  <div class="apiDetail">
<p>Read receive body content.</p>
Use httpReadBlock for more options to read data
    <dl><dt><b>Description</b>:</dt><dd>Read body content from the client. This call does not block.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">buf</td><td>Buffer to accept content data.</td>
    <tr><td class="param">size</td><td>Size of the buffer.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of bytes read into the buffer.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gad40cb0d52cde0cfa28a6040c5bc035e3"></a>
<div class="api">
  <div class="prototype">
    void
    espRedirect
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int status, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)
  </div>
  <div class="apiDetail">
<p>Redirect the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Redirect the client to a new uri.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">status</td><td>Http status code to send with the response.</td>
    <tr><td class="param">target</td><td>New target uri for the client.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga8b565b1563e5dda7271549a1e2b96139"></a>
<div class="api">
  <div class="prototype">
    void
    espRedirectBack
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Redirect the client back to the referrer.</p>
    <dl><dt><b>Description</b>:</dt><dd>Redirect the client to the referring URI.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga3dc70abb6ffc559b812d3199aa4238db"></a>
<div class="api">
  <div class="prototype">
    void
    espRemoveCookie
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Remove a cookie.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">name</td><td>Cookie name.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaa89cbec1f573b93990587fb190efe6bb"></a>
<div class="api">
  <div class="prototype">
    int
    espRemoveHeader
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key)
  </div>
  <div class="apiDetail">
<p>Remove a header from the transmission.</p>
    <dl><dt><b>Description</b>:</dt><dd>Remove a header if present.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga2ca5f0bbfd91449ba14ec1368c3731fb"></a>
<div class="api">
  <div class="prototype">
    void
    espRemoveSessionVar
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Remove a session state variable.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">name</td><td>Variable name to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga740f0e3af771eb0b256cd7221e4bb4df"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRender
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Render a formatted string.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a formatted string of data into packets to the client. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client and may yield to the garbage collector.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gab1ae06f7d01f771d47e06a97d6eb9a48"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderBlock
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *buf, <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a> size)
  </div>
  <div class="apiDetail">
<p>Render a block of data to the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a block of data to the client. Data packets will be created as required to store the write data. This call may block waiting for the client to absorb the data.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">buf</td><td>Buffer containing the write data.</td>
    <tr><td class="param">size</td><td>Size of the data in buf.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga48248f6e2da9c63d14de1acfea49f0fb"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderCached
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Render cached content.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render the saved, cached response from a prior request to this URI. This is useful if the caching mode has been set to &quot;manual&quot;.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gafa3a630f74ad5bd46445737d204745b4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderConfig
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Render the client configuration string in JSON.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>PRototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga321591a7772d9555f93d8804513c0707"></a>
<div class="api">
  <div class="prototype">
    void
    espRenderDocument
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)
  </div>
  <div class="apiDetail">
<p>Render an ESP document.</p>
    <dl><dt><b>Description</b>:</dt><dd>If the document is an ESP page, it will be rendered as a view via <a class="ref" href="#group___esp_req_1ga321591a7772d9555f93d8804513c0707">espRenderDocument</a>. Otherwise, it will be rendered using the fileHandler as a static document. This routine may yield.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>Http stream object.</td>
    <tr><td class="param">path</td><td>Relative pathname from route-&gt;documents to the document to render.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga97dcf0c01a210b1190bbaf6ddec55626"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderError
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int status, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Render an error message back to the client and finalize the request.</p>
The output is Html escaped for security
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">status</td><td>Http status code.</td>
    <tr><td class="param">fmt</td><td>Printf style message format.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga679268b7235fa3a44c66bc5ccf9d334a"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderFile
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)
  </div>
  <div class="apiDetail">
<p>Render the contents of a file back to the client.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">path</td><td>File path name.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga73989d22b93eb4f2bd0e57f5312d7070"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderSafe
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Render a formatted string after HTML escaping.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a formatted string of data and then HTML escape. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gac13211295b015088127ac10684933f19"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderSafeString
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *s)
  </div>
  <div class="apiDetail">
<p>Render a safe string of data to the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>HTML escape a string and then write the string of data to the client. Data packets will be created as required to store the write data. This call may block waiting for the data to the client to drain.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">s</td><td>String containing the data to write.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga08cb7d6bbbb06131994b6033ea99b5ad"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderString
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *s)
  </div>
  <div class="apiDetail">
<p>Render a string of data to the client.</p>
    <dl><dt><b>Description</b>:</dt><dd>Render a string of data to the client. Data packets will be created as required to store the write data. This call may block waiting for data to drain to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">s</td><td>String containing the data to write.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga38422504736e4bd4d5a9af9a76345885"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderVar
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name)
  </div>
  <div class="apiDetail">
<p>Render the value of a request variable to the client.</p>
If a request parameter is not found by the given name, consult the session store for a variable the same name
    <dl><dt><b>Description</b>:</dt><dd>This writes the value of a request variable after HTML escaping its value.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">name</td><td>Request parameter variable name.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga6b235109ed8caa6ff411df4160630ba9"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espRenderView
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *view, int flags)
  </div>
  <div class="apiDetail">
<p>Render an ESP view page to the client.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>Http stream object.</td>
    <tr><td class="param">view</td><td>View name. The view name is interpreted relative to the matching route documents directory and may omit an ESP extension. This routine may yield.</td>
    <tr><td class="param">flags</td><td>Reserved. Set to zero.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if a vew can be rendered.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gabd3396f92f086163b3f873ab8f4ef68f"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espSendGrid
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid, int flags)
  </div>
  <div class="apiDetail">
<p>Send a database grid as a JSON string.</p>
    <dl><dt><b>Description</b>:</dt><dd>The JSON string is rendered as part of an enclosing &quot;{ data: JSON }&quot; wrapper.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">grid</td><td>EDI grid.</td>
    <tr><td class="param">flags</td><td>Reserved. Set to zero.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Number of bytes rendered.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga6ad553215efae37b30624cc189f8ec93"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espSendRec
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec, int flags)
  </div>
  <div class="apiDetail">
<p>Send a database record as a JSON string.</p>
    <dl><dt><b>Description</b>:</dt><dd>The JSON string is rendered as part of an enclosing &quot;{ data: JSON }&quot; wrapper.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">rec</td><td>EDI record.</td>
    <tr><td class="param">flags</td><td>Reserved. Set to zero.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Number of bytes rendered.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gab58e0600c271a9cd45d9b71f7946eb92"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espSendResult
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> success)
  </div>
  <div class="apiDetail">
<p>Send a JSON response result.</p>
    <dl><dt><b>Description</b>:</dt><dd>This renders a JSON response including the request success status, feedback message and field errors. The field errors apply to the current EDI record. The format of the response is: &quot;{ error: 0/1, feedback: {messages}, fieldErrors: {messages}}&quot; wrapper. The feedback messages are created via the espSetFeedback API. Field errors are created by ESP validations.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">success</td><td>True if the operation was a success.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Number of bytes sent.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gade4f16e9df197e729243386fb4adf9b5"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espSetAutoFinalizing
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> on)
  </div>
  <div class="apiDetail">
<p>Enable auto-finalizing for this request.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">on</td><td>Set to &quot;true&quot; to enable auto-finalizing.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if auto-finalizing was enabled prior to this call.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga9159e247a36c454bc3e0840051b7233a"></a>
<div class="api">
  <div class="prototype">
    void
    espSetContentLength
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#mpr.html#mpr_8h_1a87e9f435008723c7b1489af1944c6e20" class="ref">MprOff</a> length)
  </div>
  <div class="apiDetail">
<p>Define a content length header in the transmission.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will define a &quot;Content-Length: NNN&quot; request header.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">length</td><td>Numeric value for the content length header.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gabed006452ae09b7a3c387755876429df"></a>
<div class="api">
  <div class="prototype">
    void
    espSetContentType
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *mimeType)
  </div>
  <div class="apiDetail">
<p>Set the transmission (response) content mime type.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the mime type Http header in the transmission.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">mimeType</td><td>Mime type string.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga5b14b36d8775d67665900c6c241c01e0"></a>
<div class="api">
  <div class="prototype">
    void
    espSetCookie
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *name, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *domain, <a href="edi.html#mpr.html#mpr_8h_1adbceeccda24c35e7b4c6090db7065319" class="ref">MprTicks</a> lifespan, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> isSecure)
  </div>
  <div class="apiDetail">
<p>Set a cookie in the transmission.</p>
    <dl><dt><b>Description</b>:</dt><dd>Define a cookie to send in the transmission Http header.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">name</td><td>Cookie name.</td>
    <tr><td class="param">value</td><td>Cookie value.</td>
    <tr><td class="param">path</td><td>URI path to which the cookie applies.</td>
    <tr><td class="param">domain</td><td>String Domain in which the cookie applies. Must have 2-3 &quot;.&quot; and begin with a leading &quot;.&quot;. For example: domain: .example.com. Set to NULL to use the current connection&apos;s client domain. Some browsers will accept cookies without the initial &quot;.&quot;, but the spec: (RFC 2109) requires it.</td>
    <tr><td class="param">lifespan</td><td>Duration for the cookie to persist in msec. Set to a negative number to delete a cookie. Set to zero for a &quot;session&quot; cookie that lives only for the user&apos;s session.</td>
    <tr><td class="param">isSecure</td><td>Set to &quot;true&quot; if the cookie only applies for SSL based connections.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga7716b0e1e8129914f1ef94585c37673a"></a>
<div class="api">
  <div class="prototype">
    void
    espSetCurrentSession
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Set this authenticated session as the current session.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set esp.login.single to true to enable current session tracking.</dd></dl>
    <dl><dt>Returns:</dt><dd>True if the.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga771dab7992d00940e83a27d47c4fbeec"></a>
<div class="api">
  <div class="prototype">
    void
    espSetFeedback
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Set a feedback message.</p>
    <dl><dt><b>Description</b>:</dt><dd>Feedback messages are a convenient way to aggregate messages state information in the response. Feedback messages are removed at the completion of the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>Http stream object.</td>
    <tr><td class="param">type</td><td>type of feedback message. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the message.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gad86d75d3f1de8522aa232e023cfdde73"></a>
<div class="api">
  <div class="prototype">
    void
    espSetFeedbackv
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *type, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, va_list args)
  </div>
  <div class="apiDetail">
<p>Send a feedback message.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>Http stream object.</td>
    <tr><td class="param">type</td><td>type of feedback message. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the message.</td>
    <tr><td class="param">args</td><td>Varargs style list.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Internal.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gad7e02f7b23d165704a2440bb3c9423a1"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *
    espSetGrid
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)
  </div>
  <div class="apiDetail">
<p>Set the current database grid.</p>
    <dl><dt>Returns:</dt><dd>The grid instance. This permits chaining.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gac60ee82bf1ce6b09cfe9ebe669062af0"></a>
<div class="api">
  <div class="prototype">
    void
    espSetHeader
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *fmt, ...)
  </div>
  <div class="apiDetail">
<p>Set a transmission header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set a Http header to send with the request. If the header already exists, its value is overwritten.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">fmt</td><td>Printf style formatted string to use as the header key value.</td>
    <tr><td class="param">...</td><td>Arguments for fmt.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gad13e6dc837686a7b820105374750ed4f"></a>
<div class="api">
  <div class="prototype">
    void
    espSetHeaderString
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Set a simple key/value transmission header.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set a Http header to send with the request. If the header already exists, its value is overwritten.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">key</td><td>Http response header key.</td>
    <tr><td class="param">value</td><td>String value for the key.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga6696ab81bed4cdd5031cf535e614e726"></a>
<div class="api">
  <div class="prototype">
    void
    espSetNotifier
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#http.html#group___http_stream_1gad583143fc934fa15f237b74102c31c4a" class="ref">HttpNotifier</a> notifier)
  </div>
  <div class="apiDetail">
<p>Define a notifier callback for this stream.</p>
    <dl><dt><b>Description</b>:</dt><dd>The notifier callback will be invoked for state changes and I/O events as requests are processed. The supported events are: <ul><li>HTTP_EVENT_STATE <mdash/> The request is changing state. Valid states are: HTTP_STATE_BEGIN, HTTP_STATE_CONNECTED, HTTP_STATE_FIRST, HTTP_STATE_CONTENT, HTTP_STATE_READY, HTTP_STATE_RUNNING, HTTP_STATE_FINALIZED and HTTP_STATE_COMPLETE. A request will always visit all states and the notifier will be invoked for each and every state. This is true even if the request has no content, the HTTP_STATE_CONTENT will still be visited. </li><li>HTTP_EVENT_READABLE <mdash/> There is data available to read </li><li>HTTP_EVENT_WRITABLE <mdash/> The outgoing pipeline can absorb more data </li><li>HTTP_EVENT_ERROR <mdash/> The request has encountered an error </li><li>HTTP_EVENT_DESTROY <mdash/> The stream structure is about to be destoyed </li><li>HTTP_EVENT_OPEN <mdash/> The application layer is now open </li><li>HTTP_EVENT_CLOSE <mdash/> The application layer is now closed </li></ul>
Before the notifier is invoked, espSetStream is called to set the stream object in the thread local storage. This enables the ESP Abbreviated API.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object created via <a class="ref" href="#group___http_stream_1ga2203fa59ea98e0a35417dde387123d29" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpCreateStream</a></td>
    <tr><td class="param">notifier</td><td>Notifier function.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga0363bac2a708d5185f9335fcfbffa510"></a>
<div class="api">
  <div class="prototype">
    void
    espSetParam
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Set a request parameter value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the value of a named request parameter to a string value. Parameters are defined via requeset POST data or request URI queries. This API permits these initial request parameters to be set or modified.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to set.</td>
    <tr><td class="param">value</td><td>Value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga019457243559de65eafc912540707f28"></a>
<div class="api">
  <div class="prototype">
    void
    espSetParamInt
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *var, int value)
  </div>
  <div class="apiDetail">
<p>Set an integer request parameter value.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the value of a named request parameter to an integer value. Request parameters are defined via www-urlencoded query or post data contained in the request.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">var</td><td>Name of the request parameter to set.</td>
    <tr><td class="param">value</td><td>Value to set.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gab0cd421bde770ea19f09fe8cc52859d6"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *
    espSetRec
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Set the current database record.</p>
    <dl><dt><b>Description</b>:</dt><dd>The current record is used to supply data to various abbreviated controls, such as: text(), <a class="ref" href="#group___esp_abbrev_1gaa3f886ac8ecb0b4f2f6decb1da1f5c82">input()</a>, checkbox and dropdown().</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">rec</td><td>Record object to define as the current record.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The grid instance. This permits chaining.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga5b28e98f9f6b7c9932dfe72f8afaa86d"></a>
<div class="api">
  <div class="prototype">
    void
    espSetStatus
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, int status)
  </div>
  <div class="apiDetail">
<p>Set a Http response status.</p>
    <dl><dt><b>Description</b>:</dt><dd>Set the Http response status for the request. This defaults to 200 (OK).</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">status</td><td>Http status code.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga0f123fdd3a6adf76ecc8eb0a27cd7605"></a>
<div class="api">
  <div class="prototype">
    void
    espSetStream
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Set the current request stream.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>The HttpStream stream object to define.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gacfda1021dede1225a27d384584f066ad"></a>
<div class="api">
  <div class="prototype">
    void
    espShowRequest
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream)
  </div>
  <div class="apiDetail">
<p>Show request details.</p>
    <dl><dt><b>Description</b>:</dt><dd>This e request details back to the client. This is useful as a debugging tool.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gab4ece9543d64a835a54c225d2e5e49a3"></a>
<div class="api">
  <div class="prototype">
    void
    espUpdateCache
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *uri, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *data, int lifesecs)
  </div>
  <div class="apiDetail">
<p>Update the cached content for a request.</p>
    <dl><dt><b>Description</b>:</dt><dd>Save the given content for future requests. This is useful if the caching mode has been set to &quot;manual&quot;.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">uri</td><td>Request URI to cache for.</td>
    <tr><td class="param">data</td><td>Data to cache.</td>
    <tr><td class="param">lifesecs</td><td>Time in seconds to cache the data.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga30c12797ca0400feda759dbc26485b56"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espUpdateRec
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Write a record to the database.</p>
    <dl><dt><b>Description</b>:</dt><dd>The record will be saved to the database after running any field validations. If any field validations fail to pass, the record will not be written and error details can be retrieved via <a class="ref" href="#group___edi_1ga653dfa35de74e1c3049b3ba9191215e0" external="/Users/mob/dev/esp/doc/api/edi.dtags">ediGetRecErrors</a>. If the record is a new record and the &quot;id&quot; column is EDI_AUTO_INC, then the &quot;id&quot; will be assigned prior to saving the record.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">rec</td><td>Record to write to the database.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;true&quot; if the record can be successfully written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga47472c968efbe0ba27b1b158887da6c1"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espUri
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)
  </div>
  <div class="apiDetail">
<p>Create a URI.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a URI link by expansions tokens based on the current request and route state. The target parameter may contain partial or complete URI information. The missing parts are supplied using the current request and route tables. The resulting URI is a normalized, server-local URI (that begins with &quot;/&quot;). The URI will include any defined route prefix, but will not include scheme, host or port components.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">target</td><td>The URI target. The target parameter can be a URI string or JSON style set of options. The target will have any embedded &quot;{tokens}&quot; expanded by using token values from the request parameters. If the target has an absolute URI path, that path is used directly after tokenization. If the target begins with &quot;~&quot;, that character will be replaced with the route prefix. This is a very convenient way to create application top-level relative links. <br/><br/>
 If the target is a string that begins with &quot;{AT}&quot; it will be interpreted as a controller/action pair of the form &quot;{AT}controller/action&quot;. If the &quot;controller/&quot; portion is absent, the current controller is used. If the action component is missing, the &quot;list&quot; action is used. A bare &quot;{AT}&quot; refers to the &quot;list&quot; action of the current controller. <br/><br/>
 If the target starts with &quot;{&quot; it is interpreted as being a JSON style set of options that describe the link. If the target is a relative URI path, it is appended to the current request URI path. <br/><br/>
 If the target is a JSON style of options, it can specify the URI components: scheme, host, port, path, reference and query. If these component properties are supplied, these will be combined to create a URI. <br/><br/>
 If the target specifies either a controller/action or a JSON set of options, The URI will be created according to the route URI template. The template may be explicitly specified via a &quot;route&quot; target property. Otherwise, if an &quot;action&quot; property is specified, the route of the same name will be used. If these don&apos;t result in a usable route, the &quot;default&quot; route will be used. <br/><br/>
 These are the properties supported in a JSON style &quot;{ ... }&quot; target: <ul><li>scheme String URI scheme portion </li><li>host String URI host portion </li><li>port Number URI port number </li><li>path String URI path portion </li><li>reference String URI path reference. Does not include &quot;#&quot; </li><li>query String URI query parameters. Does not include &quot;?&quot; </li><li>controller String controller name if using a controller-based route. This can also be specified via the action option. </li><li>action String Action to invoke. This can be a URI string or a controller action of the form {AT}controller/action. </li><li>route String Route name to use for the URI template </li></ul></td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A normalized, server-local Uri string.</dd></dl>
    <dl><dt><b>Example</b>:</dt><dd>EspUri(stream, &quot;http://example.com/index.html&quot;, 0); <br/>
 espUri(stream, &quot;/path/to/index.html&quot;, 0); <br/>
 espUri(stream, &quot;../images/splash.png&quot;, 0); <br/>
 espUri(stream, &quot;~/client/images/splash.png&quot;, 0); <br/>
 espUri(stream, &quot;${app}/client/images/splash.png&quot;, 0); <br/>
 espUri(stream, &quot;@controller/checkout&quot;, 0); <br/>
 espUri(stream, &quot;@controller/&quot;) <br/>
 espUri(stream, &quot;@init&quot;) <br/>
 espUri(stream, &quot;@&quot;) <br/>
 espUri(stream, &quot;{ action: &apos;@post/create&apos; }&quot;, 0); <br/>
 espUri(stream, &quot;{ action: &apos;checkout&apos; }&quot;, 0); <br/>
 espUri(stream, &quot;{ action: &apos;logout&apos;, controller: &apos;admin&apos; }&quot;, 0); <br/>
 espUri(stream, &quot;{ action: &apos;admin/logout&apos;&quot;, 0); <br/>
 espUri(stream, &quot;{ product: &apos;candy&apos;, quantity: &apos;10&apos;, template: &apos;/cart/${product}/${quantity}&apos; }&quot;, 0); <br/>
 espUri(stream, &quot;{ route: &apos;~/STAR/edit&apos;, action: &apos;checkout&apos;, id: &apos;99&apos; }&quot;, 0); <br/>
 espUri(stream, &quot;{ template: &apos;~/client/images/${theme}/background.jpg&apos;, theme: &apos;blue&apos; }&quot;, 0);.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga3657efaa1e51a7053167d4dc19b7ffc7"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    getMethod
(void )
  </div>
  <div class="apiDetail">
<p>Get the HTTP method.</p>
    <dl><dt><b>Description</b>:</dt><dd>This is a convenience API to return the Http method.</dd></dl>
    <dl><dt>Returns:</dt><dd>The HttpStream.rx.method property.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gad221f00eaacb1253a8e9d0f29e11c55e"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    makeUri
(<a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *target)
  </div>
  <div class="apiDetail">
<p>Create a URI.</p>
    <dl><dt><b>Description</b>:</dt><dd>Create a URI link by expansions tokens based on the current request and route state. The target parameter may contain partial or complete URI information. The missing parts are supplied using the current request and route tables. The resulting URI is a normalized, server-local URI (that begins with &quot;/&quot;). The URI will include any defined route prefix, but will not include scheme, host or port components.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">target</td><td>The URI target. The target parameter can be a URI string or JSON style set of options. The target will have any embedded &quot;{tokens}&quot; expanded by using token values from the request parameters. If the target has an absolute URI path, that path is used directly after tokenization. If the target begins with &quot;~&quot;, that character will be replaced with the route prefix. This is a very convenient way to create application top-level relative links. <br/><br/>
 If the target is a string that begins with &quot;{AT}&quot; it will be interpreted as a controller/action pair of the form &quot;{AT}controller/action&quot;. If the &quot;controller/&quot; portion is absent, the current controller is used. If the action component is missing, the &quot;list&quot; action is used. A bare &quot;{AT}&quot; refers to the &quot;list&quot; action of the current controller. <br/><br/>
 If the target starts with &quot;{&quot; it is interpreted as being a JSON style set of options that describe the link. If the target is a relative URI path, it is appended to the current request URI path. <br/><br/>
 If the target is a JSON style of options, it can specify the URI components: scheme, host, port, path, reference and query. If these component properties are supplied, these will be combined to create a URI. <br/><br/>
 If the target specifies either a controller/action or a JSON set of options, The URI will be created according to the route URI template. The template may be explicitly specified via a &quot;route&quot; target property. Otherwise, if an &quot;action&quot; property is specified, the route of the same name will be used. If these don&apos;t result in a usable route, the &quot;default&quot; route will be used. <br/><br/>
 These are the properties supported in a JSON style &quot;{ ... }&quot; target: <ul><li>scheme String URI scheme portion </li><li>host String URI host portion </li><li>port Number URI port number </li><li>path String URI path portion </li><li>reference String URI path reference. Does not include &quot;#&quot; </li><li>query String URI query parameters. Does not include &quot;?&quot; </li><li>controller String controller name if using a controller-based route. This can also be specified via the action option. </li><li>action String Action to invoke. This can be a URI string or a controller action of the form {AT}controller/action. </li><li>route String Route name to use for the URI template </li></ul></td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A normalized, server-local Uri string.</dd></dl>
    <dl><dt><b>Example</b>:</dt><dd>MakeUri(&quot;http://example.com/index.html&quot;, 0); <br/>
 makeUri(&quot;/path/to/index.html&quot;, 0); <br/>
 makeUri(&quot;../images/splash.png&quot;, 0); <br/>
 makeUri(&quot;~/client/images/splash.png&quot;, 0); <br/>
 makeUri(&quot;${app}/client/images/splash.png&quot;, 0); <br/>
 makeUri(&quot;@controller/checkout&quot;, 0); <br/>
 makeUri(&quot;@controller/&quot;) <br/>
 makeUri(&quot;@init&quot;) <br/>
 makeUri(&quot;@&quot;) <br/>
 makeUri(&quot;{ action: &apos;@post/create&apos; }&quot;, 0); <br/>
 makeUri(&quot;{ action: &apos;checkout&apos; }&quot;, 0); <br/>
 makeUri(&quot;{ action: &apos;logout&apos;, controller: &apos;admin&apos; }&quot;, 0); <br/>
 makeUri(&quot;{ action: &apos;admin/logout&apos;&quot;, 0); <br/>
 makeUri(&quot;{ product: &apos;candy&apos;, quantity: &apos;10&apos;, template: &apos;/cart/${product}/${quantity}&apos; }&quot;, 0); <br/>
 makeUri(&quot;{ route: &apos;~/STAR/edit&apos;, action: &apos;checkout&apos;, id: &apos;99&apos; }&quot;, 0); <br/>
 makeUri(&quot;{ template: &apos;~/client/images/${theme}/background.jpg&apos;, theme: &apos;blue&apos; }&quot;, 0);.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gab8d6f093fa851a73a6e80b20ea1cbc9d"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    sendGrid
(<a href="edi.html#group___edi_grid" class="ref">EdiGrid</a> *grid)
  </div>
  <div class="apiDetail">
<p>Send a database grid as a JSON string to the request client.</p>
    <dl><dt><b>Description</b>:</dt><dd>The JSON string is rendered as part of an enclosing &quot;{ data: JSON, schema: schema }&quot; wrapper. This API is used to send database data to clients.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">grid</td><td>EDI grid.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Number of bytes sent.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaa7f2ab9ce2162dcc0a10f82e74a92d80"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    sendRec
(<a href="edi.html#group___edi_rec" class="ref">EdiRec</a> *rec)
  </div>
  <div class="apiDetail">
<p>Send a database record as a JSON string.</p>
    <dl><dt><b>Description</b>:</dt><dd>The JSON string is rendered as part of an enclosing &quot;{ data: JSON }&quot; wrapper. This API is used to send database data to client user interfaces such as VueJS or Aurelia clients.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">rec</td><td>EDI record.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Number of bytes sent.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_req_1ga5a39a9b8619ef0cc07818c3a79eb023c"></a>
<div class="api">
  <div class="prototype">
    void
    sendResult
(<a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> status)
  </div>
  <div class="apiDetail">
<p>Send a JSON response result.</p>
    <dl><dt><b>Description</b>:</dt><dd>This sends a JSON response including the request success status, feedback message and field errors. This API is used to send controller action responses to client user interfaces such as VueJS or Aurelia clients. The field errors apply to the current EDI record. The format of the response is: &quot;{ success: STATUS, feedback: {messages}, fieldErrors: {messages}}&quot; wrapper. The feedback messages are created via the espSetFeedback API. Field errors are created by ESP validations.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">status</td><td>Request success status. Note: this is not the HTTP response status code.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<h1>EspRoute</h1>
<a name="group___esp_route"></a>
<div class="api">
  <div class="prototype">EspRoute</div>
  <div class="apiDetail">
<p>EspRoute extended route configuration.</p>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>actions</td><td>
Table of actions.
</td>
    <tr><td class="param">uint</td><td><td>app</td><td>
Is an esp mvc application.
</td>
    <tr><td class="param">cchar *</td><td><td>appName</td><td>
App module name.
</td>
    <tr><td class="param">uint</td><td><td>combine</td><td>
Combine C source into a single file.
</td>
    <tr><td class="param">EspProc</td><td><td>commonController</td><td>
Common code for all controllers.
</td>
    <tr><td class="param">uint</td><td><td>compile</td><td>
Enable recompiling the application or esp page.
</td>
    <tr><td class="param">cchar *</td><td><td>compileCmd</td><td>
Compile command template.
</td>
    <tr><td class="param">uint</td><td><td>compileMode</td><td>
Compile the application debug or release mode.
</td>
    <tr><td class="param">cchar *</td><td><td>configFile</td><td>
Path to config file.
</td>
    <tr><td class="param">cchar *</td><td><td>currentSession</td><td>
Current login session when enforcing a single login.
</td>
    <tr><td class="param">Edi *</td><td><td>edi</td><td>
Default database for this route.
</td>
    <tr><td class="param">uint</td><td><td>encodeTypes</td><td>
Encode data types in JSON API request/response.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>env</td><td>
Environment variables for route.
</td>
    <tr><td class="param">uint</td><td><td>keep</td><td>
Keep intermediate source code after compiling.
</td>
    <tr><td class="param">cchar *</td><td><td>linkCmd</td><td>
Link command template.
</td>
    <tr><td class="param">MprTime</td><td><td>loaded</td><td>
When configuration was last loaded.
</td>
    <tr><td class="param">HttpRoute *</td><td><td>route</td><td>
Back link to route.
</td>
    <tr><td class="param">cchar *</td><td><td>searchPath</td><td>
Search path to use when locating compiler/linker.
</td>
    <tr><td class="param">struct EspRoute *</td><td><td>top</td><td>
Top-level route for this application.
</td>
    <tr><td class="param">uint</td><td><td>update</td><td>
Enable dynamically updating the application.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>views</td><td>
Table of views.
</td>
    <tr><td class="param">cchar *</td><td><td>winsdk</td><td>
Windows SDK.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gaf0597c922fe4a863f84e40f93d3d5ee4"></a>
<div class="api">
  <div class="prototype">
    void
    espAction
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *targetKey, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *abilities, <a href="#esp_8h_1a3be68c9acb3ee13fce7b42a600b1ffdd" class="ref">EspProc</a> actionProc)
  </div>
  <div class="apiDetail">
<p>Define an action.</p>
    <dl><dt><b>Description</b>:</dt><dd>Actions are C procedures that are invoked when specific URIs are routed to the controller/action pair. The action will require the specified abilities or roles.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">targetKey</td><td>Target key used to select the action in a HttpRoute target. This is typically a URI prefix.</td>
    <tr><td class="param">abilities</td><td>String Comma separated list of abilities or roles. If set to the empty string, no specific abilities are required but an authenticated user is required. Set to NULL if an authenticated user is not required.</td>
    <tr><td class="param">actionProc</td><td>EspProc callback procedure to invoke when the action is requested.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gaa6e0943224a139d93f465b7ff2060c36"></a>
<div class="api">
  <div class="prototype">
    void
    espAddHomeRoute
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)
  </div>
  <div class="apiDetail">
<p>Add a route for the home page.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will add a home page to route ESP applications. This will add the following route: <table class='info'><tr><td>Name</td><td>Method</td><td>Pattern</td><td>Target </td></row><tr><td>home</td><td>GET,POST,PUT</td><td>^/$</td><td>index.esp </td></row></table></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Parent route from which to inherit configuration.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gab12f7c6108ac1d0a972fc837e9b9dec8"></a>
<div class="api">
  <div class="prototype">
    void
    espAddRouteSet
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *set)
  </div>
  <div class="apiDetail">
<p>Add a route set.</p>
    <dl><dt><b>Description</b>:</dt><dd>This will add a set of routes. It will add a home route and optional routes depending on the route set. <table class='info'><tr><td>Name</td><td>Method</td><td>Pattern</td><td>Target </td></row><tr><td>home</td><td>GET,POST,PUT</td><td>^/$</td><td>index.esp </td></row></table></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Parent route from which to inherit configuration.</td>
    <tr><td class="param">set</td><td>Route set to select. Use &quot;vue-mvc&quot;, or &quot;html-mvc&quot;.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga0d812aed0ff96f0ffa281860270e8910"></a>
<div class="api">
  <div class="prototype">
    int
    espBindProc
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *pattern, void *actionProc)
  </div>
  <div class="apiDetail">
<p>Define an action for a URI pattern.</p>
    <dl><dt><b>Description</b>:</dt><dd>This creates a new route and binds the action function to a URI pattern.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Parent route object from which to inherit settings when creating the new route.</td>
    <tr><td class="param">pattern</td><td>URI pattern to use to find the releavant route.</td>
    <tr><td class="param">actionProc</td><td>EspProc callback procedure to invoke when the action is requested.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga359fc00970449817245c5759a1ad8c4c"></a>
<div class="api">
  <div class="prototype">
    char *
    espBuildScript
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *page, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *cacheName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *layout, <a href="#struct_esp_state" class="ref">EspState</a> *state, char **err)
  </div>
  <div class="apiDetail">
<p>Convert an ESP web page into C code.</p>
    <dl><dt><b>Description</b>:</dt><dd>This parses an ESP web page into an equivalent C source view.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">page</td><td>ESP web page script.</td>
    <tr><td class="param">path</td><td>Pathname for the ESP web page. This is used to process include directives which are resolved relative to this path.</td>
    <tr><td class="param">cacheName</td><td>MD5 cache name. Not a full path.</td>
    <tr><td class="param">layout</td><td>Default layout page. Deprecated.</td>
    <tr><td class="param">state</td><td>Reserved. Must set to NULL.</td>
    <tr><td class="param">err</td><td>Output parameter to hold any relevant error message.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Compiled script. Return NULL on errors.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga01d07d3db11f99c0d1b93b068ec56c67"></a>
<div class="api">
  <div class="prototype">
    int
    espCache
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *uri, int lifesecs, int flags)
  </div>
  <div class="apiDetail">
<p>Add caching for response content.</p>
    <dl><dt><b>Description</b>:</dt><dd>This call configures caching for request responses. Caching may be used for any HTTP method, though typically it is most useful for state-less GET requests. Output data may be uniquely cached for requests with different request parameters (query, post and route parameters). <br/><br/>
When server-side caching is requested and manual-mode is not enabled, the request response will be automatically cached. Subsequent client requests will revalidate the cached content with the server. If the server-side cached content has not expired, a HTTP Not-Modified (304) response will be sent and the client will use its client-side cached content. This results in a very fast transaction with the client as no response data is sent. Server-side caching will cache both the response headers and content. <br/><br/>
If manual server-side caching is requested, the response will be automatically cached, but subsequent requests will require the handler to explicitly send cached content by calling <a class="ref" href="#group___http_cache_1ga289c2c5d43b653bdae351d0bdab951aa" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpWriteCached</a>. <br/><br/>
If client-side caching is requested, a &quot;Cache-Control&quot; Http header will be sent to the client with the caching &quot;max-age&quot; set to the lifesecs argument value. This causes the client to serve client-cached content and to not contact the server at all until the max-age expires. Alternatively, you can use <a class="ref" href="#group___http_tx_1ga1d493091887d99538039678342383a71" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpSetHeader</a> to explicitly set a "Cache-Control header. For your reference, here are some keywords that can be used in the Cache-Control Http header. <br/><br/>
 &quot;max-age&quot; Max time in seconds the resource is considered fresh. &quot;s-maxage&quot; Max time in seconds the resource is considered fresh from a shared cache. &quot;public&quot; marks authenticated responses as cacheable. &quot;private&quot; shared caches may not store the response. &quot;no-cache&quot; cache must re-submit request for validation before using cached copy. &quot;no-store&quot; response may not be stored in a cache. &quot;must-revalidate&quot; forces clients to revalidate the request with the server. &quot;proxy-revalidate&quot; similar to must-revalidate except only for proxy caches. <br/><br/>
Use client-side caching for static content that will rarely change or for content for which using &quot;reload&quot; in the browser is an adequate solution to force a refresh. Use manual server-side caching for situations where you need to explicitly control when and how cached data is returned to the client. For most other situations, use server-side caching.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">uri</td><td>URI to cache. If the URI is set to &quot;*&quot; all URIs for that action are uniquely cached. If the request has POST data, the URI may include such post data in a sorted query format. E.g. {uri: /buy?item=scarf&amp;quantity=1}.</td>
    <tr><td class="param">lifesecs</td><td>Lifespan of cache items in seconds. If not set to positive integer, the lifesecs will default to the route lifespan.</td>
    <tr><td class="param">flags</td><td>Cache control flags. Select ESP_CACHE_MANUAL to enable manual mode. In manual mode, cached content will not be automatically sent. Use <a class="ref" href="#group___http_cache_1ga289c2c5d43b653bdae351d0bdab951aa" external="/Users/mob/dev/esp/paks/http/doc/api/http.dtags">httpWriteCached</a> in the request handler to write previously cached content. <br/><br/>
 Select ESP_CACHE_CLIENT to enable client-side caching. In this mode a &quot;Cache-Control&quot; Http header will be sent to the client with the caching &quot;max-age&quot;. WARNING: the client will not send any request for this URI until the max-age timeout has expired. <br/><br/>
 Select HTTP_CACHE_RESET to first reset existing caching configuration for this route. <br/><br/>
 Select HTTP_CACHE_COMBINED, HTTP_CACHE_ONLY or HTTP_CACHE_UNIQUE to define the server-side caching mode. Only one of these three mode flags should be specified. <br/><br/>
 If the HTTP_CACHE_COMBINED flag is set, the request params (query, post data and route parameters) will be ignored and all request for a given URI path will cache to the same cache record. <br/><br/>
 Select HTTP_CACHE_UNIQUE to uniquely cache requests with different request parameters. The URIs specified in uris should not contain any request parameters. <br/><br/>
 Select HTTP_CACHE_ONLY to cache only the exact URI with parameters specified in uris. The parameters must be in sorted www-urlencoded format. For example: /example.esp?hobby=sailing&amp;name=john.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>A count of the bytes actually written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gaa6f62a5bb430f502b6067cac74d948e4"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espCompile
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#mpr.html#group___mpr_dispatcher" class="ref">MprDispatcher</a> *dispatcher, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *source, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *module, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *cacheName, int isView, char **errMsg)
  </div>
  <div class="apiDetail">
<p>Compile an ESP page, controller or view.</p>
    <dl><dt><b>Description</b>:</dt><dd>This compiles ESP resources into loadable, cached modules.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">dispatcher</td><td>Optional dispatcher to use when waiting for the compilation command.</td>
    <tr><td class="param">source</td><td>ESP source file name.</td>
    <tr><td class="param">module</td><td>Output module file name.</td>
    <tr><td class="param">cacheName</td><td>MD5 cache name. Not a full path.</td>
    <tr><td class="param">isView</td><td>Set to &quot;true&quot; if the source is a view.</td>
    <tr><td class="param">errMsg</td><td>Reference to receive an error message if the routine fails.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>&quot;True&quot; if the compilation is successful. Errors are logged and sent back to the client if ShowErrors is true.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga8e9d301b4d8ea03e194be4339ec9d361"></a>
<div class="api">
  <div class="prototype">
    void
    espController
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="#esp_8h_1a3be68c9acb3ee13fce7b42a600b1ffdd" class="ref">EspProc</a> baseProc)
  </div>
  <div class="apiDetail">
<p>Define a common controller function to invoke before invoking for all controller actions.</p>
    <dl><dt><b>Description</b>:</dt><dd>A base controller function can be defined that will be called before calling any controller action. This emulates a super class constructor.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">baseProc</td><td>Function to call just prior to invoking a controller action.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga6ce7e8f816dd7a994f77583c953065a2"></a>
<div class="api">
  <div class="prototype">
    void
    espDefineAction
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *targetKey, <a href="#esp_8h_1a3be68c9acb3ee13fce7b42a600b1ffdd" class="ref">EspProc</a> actionProc)
  </div>
  <div class="apiDetail">
<p>Define an action.</p>
    <dl><dt><b>Description</b>:</dt><dd>Actions are C procedures that are invoked when specific URIs are routed to the controller/action pair. This API is deprecated. Use <a class="ref" href="#group___esp_route_1gaf0597c922fe4a863f84e40f93d3d5ee4">espAction</a> instead.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">targetKey</td><td>Target key used to select the action in a HttpRoute target. This is typically a URI prefix.</td>
    <tr><td class="param">actionProc</td><td>EspProc callback procedure to invoke when the action is requested.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga619e3d85014d882f8330e47ee1f6ac24"></a>
<div class="api">
  <div class="prototype">
    void
    espDefineBase
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="#esp_8h_1adc749236ce9c01e8c3f43a4b779df700" class="ref">EspLegacyProc</a> baseProc)
  </div>
  <div class="apiDetail">
<p>Define a base controller function to invoke for all controller actions.</p>
    <dl><dt><b>Description</b>:</dt><dd>A base controller function can be defined that will be called before calling any controller action. This emulates a super class constructor.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">baseProc</td><td>Function to call just prior to invoking a controller action.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gab7ebccfe31eb1e07f3f40db700d18bd9"></a>
<div class="api">
  <div class="prototype">
    void
    espDefineView
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path, void *viewProc)
  </div>
  <div class="apiDetail">
<p>Define a view.</p>
    <dl><dt><b>Description</b>:</dt><dd>Views are ESP web pages that are executed to return presentation data back to the client.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Http route object.</td>
    <tr><td class="param">path</td><td>Path to the ESP view source code.</td>
    <tr><td class="param">viewProc</td><td>EspViewPrococ callback procedure to invoke when the view is requested.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gac85c52178c5b387706bb31b419f9f059"></a>
<div class="api">
  <div class="prototype">
    char *
    espExpandCommand
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *command, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *source, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *module)
  </div>
  <div class="apiDetail">
<p>Expand a compile or link command template.</p>
    <dl><dt><b>Description</b>:</dt><dd>This expands a command template and replaces &quot;${tokens}&quot; with their equivalent value. The supported tokens are: <ul><li>ARCH - Build architecture (i386, x86_64) </li><li>CC - Compiler pathname </li><li>DEBUG - Compiler debug options (-g, -Zi, -Od) </li><li>INC - Include directory (out/inc) </li><li>LIB - Library directory (out/lib, out/bin) </li><li>LIBS - Required libraries directory (esp, mpr) </li><li>OBJ - Name of compiled source (out/lib/view-MD5.o) </li><li>OUT - Output module (view_MD5.dylib) </li><li>SHLIB - Shared library extension (.lib, .so) </li><li>SHOBJ - Shared object extension (.dll, .so) </li><li>SRC - Path to source code for view or controller (already templated) </li><li>TMP - System temporary directory </li><li>WINSDK - Path to the Windows SDK </li><li>VS - Path to Visual Studio </li></ul></dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">command</td><td>Command to run.</td>
    <tr><td class="param">source</td><td>ESP web page source pathname.</td>
    <tr><td class="param">module</td><td>Output module pathname.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>An expanded command line.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga97b13560e8c066d70810b2df3e8d7f78"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *
    espGetConfig
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *defaultValue)
  </div>
  <div class="apiDetail">
<p>Get a configuration value from the ESP pak.json.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute defining the ESP application.</td>
    <tr><td class="param">key</td><td>Configuration property path. May contain dots.</td>
    <tr><td class="param">defaultValue</td><td>Default value to use if the configuration is not defined. May be null.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The Configuration string value.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gaca1c2bea3bde8c348d3d70c35ef21667"></a>
<div class="api">
  <div class="prototype">
    int
    espInit
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *prefix, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *path)
  </div>
  <div class="apiDetail">
<p>Initialize ESP.</p>
    <dl><dt><b>Description</b>:</dt><dd>This initializes a route for ESP. This may be called multiple times for different routes.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Parent route from which to inherit configuration.</td>
    <tr><td class="param">prefix</td><td>Optional URI prefix for all application URIs.</td>
    <tr><td class="param">path</td><td>Pathname to the esp.json file.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga619751fdfd2aa494d0074bd661e5e103"></a>
<div class="api">
  <div class="prototype">
    int
    espLoadCompilerRules
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)
  </div>
  <div class="apiDetail">
<p>Load the compiler rules from esp-compile.json.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga8719b78bdfb4e3228c6e9be843f45140"></a>
<div class="api">
  <div class="prototype">
    int
    espLoadConfig
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)
  </div>
  <div class="apiDetail">
<p>Load configuration for an ESP application.</p>
    <dl><dt><b>Description</b>:</dt><dd>Load the application&apos;s esp.json and pak.json configuration files.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Parent route from which to inherit configuration.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga4f34c72cee102cf5cb115e3908261013"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___esp_route" class="ref">EspRoute</a> *
    espRoute
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a> create)
  </div>
  <div class="apiDetail">
<p>Return the corresponding EspRoute for the given Route.</p>
    <dl><dt><b>Description</b>:</dt><dd>Returns the defined EspRoute for the given Route. Creates a new EspRoute if required.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>Parent route from which to inherit configuration.</td>
    <tr><td class="param">create</td><td>Set to true to create an EspRoute if a suitable one cannot be found.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>The EspRoute object.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1gada3b399d10e3f1eaee004cde256e379f"></a>
<div class="api">
  <div class="prototype">
    int
    espSetConfig
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *value)
  </div>
  <div class="apiDetail">
<p>Set a configuration value to the ESP pak.json.</p>
    <dl><dt><b>Description</b>:</dt><dd>This updates the in-memory copy of the pak.json only.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute defining the ESP application.</td>
    <tr><td class="param">key</td><td>Configuration property path. May contain dots.</td>
    <tr><td class="param">value</td><td>Value to set the property to.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga115c8f838daf7b187cb8a07787734f37"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1ad5c9d4ba3dc37783a528b0925dc981a0" class="ref">bool</a>
    espTestConfig
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *key, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *desired)
  </div>
  <div class="apiDetail">
<p>Test if a configuration property from the ESP pak.json has a desired value.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute defining the ESP application.</td>
    <tr><td class="param">key</td><td>Configuration property path. May contain dots.</td>
    <tr><td class="param">desired</td><td>Desired value to compare with.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>True if the configuration property has the desired value.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<h2>Functions</h2>
<a name="esp_8h_1a0ac80522752809c14f74ccaf02e48de5"></a>
<div class="api">
  <div class="prototype">
    <a href="#group___esp_route" class="ref">EspRoute</a> *
    espCreateRoute
(<a href="edi.html#http.html#group___http_route" class="ref">HttpRoute</a> *route)
  </div>
  <div class="apiDetail">
<p>Create an EspRoute object.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute to associate with.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>EspRoute object.</dd></dl>
  </div>
</div>
<a name="esp_8h_1a0fafa076a86bf29ec11d07515817da3c"></a>
<div class="api">
  <div class="prototype">
    int
    espEmail
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *to, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *from, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *subject, <a href="edi.html#mpr.html#group___mpr_time" class="ref">MprTime</a> date, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *mime, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *message, <a href="edi.html#mpr.html#group___mpr_list" class="ref">MprList</a> *files)
  </div>
  <div class="apiDetail">
<p>Send mail using sendmail.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream stream object.</td>
    <tr><td class="param">to</td><td>Message recipient.</td>
    <tr><td class="param">from</td><td>Message sender.</td>
    <tr><td class="param">subject</td><td>Message subject.</td>
    <tr><td class="param">date</td><td>Message creation date. Set to null to use the current date/time.</td>
    <tr><td class="param">mime</td><td>Message mime type. Set to null for text/plain.</td>
    <tr><td class="param">message</td><td>Message body.</td>
    <tr><td class="param">files</td><td>MprList of files to send with the message.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if the email is successfully sent.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
  </div>
</div>
<a name="esp_8h_1a56eafbf70fb0509e85aa5070becbaca6"></a>
<div class="api">
  <div class="prototype">
    void
    espInitHtmlOptions
(<a href="#struct_esp" class="ref">Esp</a> *esp)
  </div>
  <div class="apiDetail">
<p>Add HTLM internal options to the Esp.options hash.</p>
  </div>
</div>
<a name="esp_8h_1a240f55c3789229bd59ec4c2c4b5c1557"></a>
<div class="api">
  <div class="prototype">
    int
    espInitParser
(void )
  </div>
  <div class="apiDetail">
<p>Initialize the ESP configuration file parser.</p>
  </div>
</div>
<a name="esp_8h_1a2f63950b45dd427b2bdfa7ae1c8f85c0"></a>
<div class="api">
  <div class="prototype">
    int
    espOpen
(<a href="edi.html#mpr.html#group___mpr_module" class="ref">MprModule</a> *module)
  </div>
  <div class="apiDetail">
<p>ESP initialization entry point.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">module</td><td>Module object if loaded as an MPR module.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
  </div>
</div>
<a name="esp_8h_1acd50895af625f24f565c21f27a934405"></a>
<div class="api">
  <div class="prototype">
    <a href="edi.html#osdep.html#osdep_8h_1a7d08ccc1e981eb4d5a238641ac4ccfc1" class="ref">ssize</a>
    espRenderFeedback
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *types)
  </div>
  <div class="apiDetail">
<p>Render feedback messages.</p>
    <dl><dt><b>Description</b>:</dt><dd>Feedback messages for one-time messages that are sent to the client. For HTML clients, feedback messages use the session state store and persist for only one request. For smart/thick clients, feedback messages are sent as JSON responses via the espSendFeedback API. See <a class="ref" href="#group___esp_req_1ga771dab7992d00940e83a27d47c4fbeec">espSetFeedback</a> for how to define feedback messages.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>Http stream object.</td>
    <tr><td class="param">types</td><td>Types of feedback message to retrieve. Set to &quot;*&quot; to retrieve all types of feedback. This may be set to any word, but the following feedback types are typically supported as per RFC 5424: &quot;debug&quot;, &quot;info&quot;, &quot;notice&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;critical&quot;.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Number of bytes written.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Deprecated.</dd></dl>
  </div>
</div>
<a name="esp_8h_1a3534a4b4994b1de062c75ebb121b59fe"></a>
<div class="api">
  <div class="prototype">
    void
    espSetData
(<a href="edi.html#http.html#group___http_stream" class="ref">HttpStream</a> *stream, void *data)
  </div>
  <div class="apiDetail">
<p>Set a private data reference for the current request.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>HttpStream object.</td>
    <tr><td class="param">data</td><td>Data object to associate with the current request. This must be a managed reference.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Reference to private data.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
  </div>
</div>
<a name="esp_8h_1a2b6ab1f6cf9333533ece4ed0f871e0a6"></a>
<div class="api">
  <div class="prototype">
    int
    espStaticInitialize
(<a href="#group___esp_route_1ga39099f433a25379dcf1ff0381e78b8d3" class="ref">EspModuleEntry</a> entry, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *appName, <a href="edi.html#osdep.html#osdep_8h_1a0f128c3e0c83721af0220c00554e9c4e" class="ref">cchar</a> *routeName)
  </div>
  <div class="apiDetail">
<p>Initialize a static library ESP module.</p>
    <dl><dt><b>Description</b>:</dt><dd>This invokes the ESP initializers for the required pre-compiled ESP shared library.</dd></dl>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">entry</td><td>ESP initialization function.</td>
    <tr><td class="param">appName</td><td>Name of the ESP application.</td>
    <tr><td class="param">routeName</td><td>Name of the route in the appweb.conf file for this ESP application or page.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
  </div>
</div>
<h2>Typedefs</h2>
<a name="esp_8h_1adc749236ce9c01e8c3f43a4b779df700"></a>
<div class="api">
  <div class="prototype">
    typedef void(* EspLegacyProc) (HttpStream *stream).
  </div>
  <div class="apiDetail">
<p>Procedure callback.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Evolving.</dd></dl>
  </div>
</div>
<a name="group___esp_req_1gaade394637a4d5f682c1edcc287023658"></a>
<div class="api">
  <div class="prototype">
    typedef void(* EspViewProc) (HttpStream *stream).
  </div>
  <div class="apiDetail">
<p>View procedure callback.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">stream</td><td>Http stream object.</td>
    </table></dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="group___esp_route_1ga39099f433a25379dcf1ff0381e78b8d3"></a>
<div class="api">
  <div class="prototype">
    typedef int(* EspModuleEntry) (struct HttpRoute *route, MprModule *module).
  </div>
  <div class="apiDetail">
<p>Entry point for a loadable ESP module.</p>
    <dl><dt>Parameters:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">route</td><td>HttpRoute object.</td>
    <tr><td class="param">module</td><td>Mpr module object.</td>
    </table></dd></dl>
    <dl><dt>Returns:</dt><dd>Zero if successful, otherwise a negative MPR error code.</dd></dl>
    <dl><dt><b>API</b> Stability:</dt><dd>Stable.</dd></dl>
    <dl><dt>See Also:</dt><dd>
    <a href="#struct_esp" class="ref">Esp</a></dd></dl>
  </div>
</div>
<a name="struct_esp"></a>
<div class="api">
  <div class="prototype">Esp</div>
  <div class="apiDetail">
<p>Top level ESP structure.</p>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">int</td><td><td>compileMode</td><td>
Force a debug compile.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>databases</td><td>
Cloned databases.
</td>
    <tr><td class="param">MprEvent *</td><td><td>databasesTimer</td><td>
Database prune timer.
</td>
    <tr><td class="param">EdiService *</td><td><td>ediService</td><td>
Database service.
</td>
    <tr><td class="param">cchar *</td><td><td>hostedDocuments</td><td>
Documents directory if hosted.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>internalOptions</td><td>
Table of internal HTML control options <br/>
</td>
    <tr><td class="param">int</td><td><td>inUse</td><td>
Active ESP request counter.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_thread_local" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprThreadLocal</a> *</td><td><td>local</td><td>
Thread local data.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_mutex" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprMutex</a> *</td><td><td>mutex</td><td>
Multithread lock.
</td>
    <tr><td class="param">int</td><td><td>reloading</td><td>
Reloading ESP and modules.
</td>
    <tr><td class="param"><a class="ref" href="#struct_mpr_hash" external="/Users/mob/dev/esp/paks/mpr/doc/api/mpr.dtags">MprHash</a> *</td><td><td>vstudioEnv</td><td>
Visual Studio environment.
</td>
    </table></dd></dl>
  </div>
</div>
<a name="struct_esp_action"></a>
<div class="api">
  <div class="prototype">EspAction</div>
  <div class="apiDetail">
<p>Action definition.</p>
    <dl><dt><b>API</b> Stability:</dt><dd>Prototype.</dd></dl>
    <dl><dt>Fields:</dt><dd>
    <table class="parameters" title="Parameters">
    <tr><td class="param">cchar *</td><td><td>abilities</td><td>
Abilities or roles for action. 
Comma separated.
</td>
    <tr><td class="param">EspProc</td><td><td>callback</td><td>
Callback action.
</td>
    <tr><td class="param">cchar *</td><td><td>target</td><td>
Route target string.
</td>
    </table></dd></dl>
  </div>
</div>


    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software. All rights reserved.</p>
    </div>

    <script src="../../lib/jquery/jquery.min.js"></script>
    <script src="../../lib/jquery/jquery.slim.min.js"></script>
    <script src="../../lib/semantic-ui/semantic.min.js"></script>
    <script src="../../scripts/sidebar.min.js"></script>
     

    




